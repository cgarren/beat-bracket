{"version":3,"file":"f2d81c7223fd1e690ef14ada2ce4172ebe445b36-042ce33239822af9e719.js","mappings":"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","sources":["webpack://beatbracket/./src/components/Clicky.jsx","webpack://beatbracket/./src/assets/images/Spotify_Logo_RGB_White.png","webpack://beatbracket/./src/components/FAQ/FAQSection.jsx","webpack://beatbracket/./src/components/FAQ/FAQ.jsx","webpack://beatbracket/./src/components/Footer.jsx","webpack://beatbracket/./src/components/NavBar/ProfileDropdown.jsx","webpack://beatbracket/./src/components/NavBar/NavBar.jsx","webpack://beatbracket/./src/components/Layout.jsx","webpack://beatbracket/./src/assets/images/Spotify_Logo_RGB_Green.png","webpack://beatbracket/./src/components/LoginButton.jsx","webpack://beatbracket/./src/utilities/helpers.js","webpack://beatbracket/./src/utilities/spotify.js","webpack://beatbracket/./src/assets/images/guestProfileImage.png"],"sourcesContent":["import React from \"react\";\nimport { Script } from \"gatsby\";\n\nconst Clicky = () => {\n  return (\n    <>\n      <Script src=\"//static.getclicky.com/101396268.js\" />\n      <noscript>\n        <p>\n          <img\n            alt=\"Clicky\"\n            width=\"1\"\n            height=\"1\"\n            src=\"//in.getclicky.com/101396268ns.gif\"\n          />\n        </p>\n      </noscript>\n    </>\n  );\n};\n\nexport default Clicky;\n","export default __webpack_public_path__ + \"static/Spotify_Logo_RGB_White-f48fb565509bf23854a88c4832e5a760.png\";","import React from \"react\";\n\nconst FAQSection = ({ question, answer }) => {\n  return (\n    <div className=\"mb-5\">\n      <h2 className=\"font-bold text-xl text-white\">{question}</h2>\n      <div className=\"text-lg text-zinc-300\">{answer}</div>\n    </div>\n  );\n};\n\nexport default FAQSection;\n","import React from \"react\";\nimport FAQSection from \"./FAQSection\";\nimport LoginButton from \"../LoginButton\";\n\nconst FAQ = ({ loggedIn }) => {\n  return (\n    <div className=\"text-left\" aria-label=\"Frequently asked questions\">\n      <FAQSection\n        question={\"What is Beat Bracket?\"}\n        answer={\n          <>\n            Beat Bracket allows you to create and share brackets for any artist\n            on Spotify. You can automatically fill and seed brackets of\n            different sizes and then fine-tune manually by moving or replacing\n            individual songs\n          </>\n        }\n      />\n      <FAQSection\n        question={\"Why do I need a Spotify account to use Beat Bracket?\"}\n        answer={\n          \"This site uses Spotify's API to get information about artists and tracks. After you create a bracket, it is associated with your Spotify account so that you'll be able to edit and share it later!\"\n        }\n      />\n      <FAQSection\n        question={\"How do I create a bracket?\"}\n        answer={\n          <ol className=\"list-decimal list-inside\">\n            {!loggedIn ? (\n              <li>\n                To create a bracket, you must first{\" \"}\n                <LoginButton variant=\"bordered\" />\n              </li>\n            ) : null}\n            <li>Click \"Create Bracket\"</li>\n            <li>\n              Select an artist from the popup and a bracket will be created\n              containing the artist's most listened to tracks seeded by\n              popularity\n            </li>\n            <li>\n              (Optional) Click \"Edit\" to customize the bracket to your liking.\n              You can drag and drop, swap out songs, adjust the number of\n              tracks, and choose different seeding methods\n            </li>\n            <li>\n              Start selecting songs to advance to the next round! If an audio\n              preview is availiable for a track, you'll see a \"play\" icon next\n              to the track name which will play a 30 second preview of the song.\n              You can also click the Spotify icon in the top right to open the\n              track in Spotify\n            </li>\n            <li>Click \"Share\" to get a link to your newly created bracket!</li>\n          </ol>\n        }\n      />\n      <FAQSection\n        question={\n          \"Why is there a limit on the number of brackets that I can have?\"\n        }\n        answer={\n          \"Storage can be expensive! Beat Bracket currently has limited storage space and is only able to support a certain number of brackets per account. In the future I may add a way to upgrade your account to support more brackets!\"\n        }\n      />\n      <FAQSection\n        question={\"Why are there duplicate/similar tracks in my bracket?\"}\n        answer={\n          <>\n            Spotify makes it difficult to consolidate all versions of the same\n            song (especially when they are titled slightly differently eg.\n            \"Remastered\" or \"Radio edit\"). Beat Bracket uses a custom algorithm\n            to avoid showing duplicates but there are still some cases where it\n            happens. If you notice this, please{\" \"}\n            <a\n              className=\"text-green-500 hover:text-green-700 underline\"\n              href=\"mailto:feedback@beatbracket.com\"\n            >\n              let me know\n            </a>{\" \"}\n            and I'll try to fix it! In the meantime, you can manually replace\n            the duplicate track with another one of the artist's songs\n          </>\n        }\n      />\n      <FAQSection\n        question={\"How do I sign out or switch accounts?\"}\n        answer={\n          'Click your profile in the top right corner and select \"Sign Out\". You will be re-prompted to authorize Beat Bracket\\'s access to your account on the next sign in'\n        }\n      />\n      <FAQSection\n        question={\"How do I suggest an improvement?\"}\n        answer={\n          <>\n            Send me an email at{\" \"}\n            <a\n              className=\"text-green-500 hover:text-green-700 underline\"\n              href=\"mailto:feedback@beatbracket.com\"\n            >\n              feedback@beatbracket.com\n            </a>\n          </>\n        }\n      />\n    </div>\n  );\n};\n\nexport default FAQ;\n","import React from \"react\";\nimport spotifyLogo from \"../assets/images/Spotify_Logo_RGB_White.png\";\nimport FAQ from \"./FAQ/FAQ\";\n\nconst Footer = ({ heightClass, loggedIn }) => {\n  return (\n    <footer className={heightClass}>\n      <div className=\"bg-zinc-800 p-4\">\n        <FAQ loggedIn={loggedIn} />\n        <div className=\"relative text-center\">\n          <span className=\"inline-flex items-center text-white\">\n            © Cooper Garren 2023 | Content from&nbsp;\n            <a href=\"https://spotify.com\">\n              <img\n                src={spotifyLogo}\n                alt=\"Spotify\"\n                className=\"h-[22px] text-white\"\n              />\n            </a>\n          </span>\n        </div>\n      </div>\n    </footer>\n  );\n};\n\nexport default Footer;\n","import { navigate } from \"gatsby\";\nimport React, { useEffect, useState } from \"react\";\nimport guestProfileImage from \"../../assets/images/guestProfileImage.png\";\nimport { getUserInfo } from \"../../utilities/spotify\";\nimport LoginButton from \"../LoginButton\";\n\nconst ProfileDropdown = ({ loggedIn, noChanges }) => {\n  const [showDropdown, setShowDropdown] = useState(false);\n  const [shownUserInfo, setShownUserInfo] = useState({\n    display_name: \"Guest\",\n    id: \"\",\n    images: [\n      {\n        url: guestProfileImage,\n      },\n    ],\n  });\n\n  function handleNaviagtionAttempt(path) {\n    if (noChanges(true)) {\n      navigate(path);\n    }\n  }\n\n  function signOut() {\n    if (noChanges(true)) {\n      setShowDropdown(false);\n      sessionStorage.clear();\n      localStorage.setItem(\"rememberMe\", false);\n      navigate(\"/\");\n    }\n  }\n\n  function navProfile() {\n    setShowDropdown(false);\n    handleNaviagtionAttempt(\"/my-brackets\");\n  }\n\n  useEffect(() => {\n    if (loggedIn) {\n      getUserInfo().then((userInfo) => {\n        if (userInfo !== 1) {\n          setShownUserInfo(userInfo);\n        } else {\n          setShownUserInfo({\n            display_name: \"Guest\",\n            id: \"\",\n            images: [\n              {\n                url: guestProfileImage,\n              },\n            ],\n          });\n        }\n      });\n    } else {\n      setShownUserInfo({\n        display_name: \"Guest\",\n        id: \"\",\n        images: [\n          {\n            url: guestProfileImage,\n          },\n        ],\n      });\n    }\n  }, [loggedIn]);\n\n  return (\n    <div>\n      {!loggedIn ? (\n        <LoginButton variant=\"bordered\" />\n      ) : (\n        <div className=\"inline-block relative\">\n          <button\n            type=\"button\"\n            className=\"flex items-center rounded-lg transition group shrink-0 border-0 hover:bg-transparent px-0\"\n            id=\"menu-button\"\n            aria-expanded=\"true\"\n            aria-haspopup=\"true\"\n            data-dropdown-toggle=\"dropdownNavbar\"\n            onClick={() => {\n              if (loggedIn) {\n                setShowDropdown(!showDropdown);\n              }\n            }}\n          >\n            <img\n              className=\"object-cover w-10 h-10 rounded-full\"\n              src={shownUserInfo.images[0].url}\n              alt=\"Profile picture\"\n              title={`${shownUserInfo.display_name}'s Profile picture from Spotify`}\n            />\n            <p className=\"hidden ml-2 text-left sm:block\">\n              <strong className=\"block text-s font-bold text-white\">\n                {shownUserInfo.display_name}\n              </strong>\n            </p>\n            <div hidden={!loggedIn}>\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                className=\"w-5 h-5 ml-4 text-gray-300 transition sm:block group-hover:text-white\"\n                viewBox=\"0 0 20 20\"\n                fill=\"currentColor\"\n              >\n                <path\n                  fillRule=\"evenodd\"\n                  d=\"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\"\n                  clipRule=\"evenodd\"\n                />\n              </svg>\n            </div>\n          </button>\n          <ul\n            id=\"dropdownNavbar\"\n            className=\"absolute right-0 bg-white text-base z-40 list-none divide-y divide-gray-100 rounded shadow w-full cursor-pointer min-w-fit\"\n            aria-labelledby=\"dropdownDefault\"\n            hidden={!showDropdown}\n          >\n            {/* <li>\n          <button className=\"py-2 px-4 items-center whitespace-nowrap flex gap-1 group-hover:bg-gray-200 border-0 w-full group\">\n            My Brackets\n          </button>\n        </li> */}\n            <li>\n              <button\n                onClick={navProfile}\n                className=\"py-2 px-4 items-center whitespace-nowrap flex gap-1 group-hover:bg-gray-200 border-0 w-full group\"\n              >\n                <span>My Brackets</span>\n              </button>\n              <button\n                onClick={signOut}\n                className=\"py-2 px-4 items-center rounded-t-none whitespace-nowrap flex gap-1 group-hover:bg-gray-200 border-0 w-full group\"\n              >\n                <span>Sign out</span>\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  className=\"w-4 h-4 text-secondary transition sm:block group-hover:text-secondary\"\n                  viewBox=\"0 0 24 24\"\n                  fill=\"currentColor\"\n                >\n                  <path d=\"M16 10v-5l8 7-8 7v-5h-8v-4h8zm-16-8v20h14v-2h-12v-16h12v-2h-14z\" />\n                </svg>\n              </button>\n            </li>\n          </ul>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ProfileDropdown;\n","import { navigate } from \"gatsby\";\nimport React from \"react\";\nimport ProfileDropdown from \"./ProfileDropdown\";\n\nconst NavBar = ({ loggedIn, noChanges }) => {\n  function handleNaviagtionAttempt() {\n    if (noChanges(true)) {\n      navigate(\"/my-brackets\");\n    }\n  }\n  return (\n    <header className=\"bg-black mb-4\">\n      <div className=\"flex items-center min-h-fit px-4 mx-auto sm:px-6 lg:px-4 justify-between\">\n        <button\n          className=\"text-white text-2xl font-bold font-display bg-black border-0 hover:bg-black pl-0\"\n          onClick={handleNaviagtionAttempt}\n        >\n          Beat Bracket\n        </button>\n        <ProfileDropdown loggedIn={loggedIn} noChanges={noChanges} />\n      </div>\n    </header>\n  );\n};\n\nexport default NavBar;\n","import React, { useState, useEffect } from \"react\";\nimport NavBar from \"./NavBar/NavBar\";\nimport { checkSpotifyAuth } from \"../utilities/helpers\";\nimport Clicky from \"./Clicky\";\nimport Footer from \"./Footer\";\n\nconst Layout = ({ children, noChanges }) => {\n  const [loggedIn, setLoggedIn] = useState(true);\n\n  useEffect(() => {\n    if (checkSpotifyAuth()) {\n      console.log(\"logged in\");\n      setLoggedIn(true);\n    } else {\n      setLoggedIn(false);\n    }\n    const timer = setInterval(() => {\n      if (checkSpotifyAuth(timer)) {\n        setLoggedIn(true);\n      } else {\n        setLoggedIn(false);\n      }\n    }, 1000);\n    return () => clearInterval(timer);\n  }, []);\n\n  return (\n    <>\n      <Clicky />\n      <div className=\"text-center clear-both\">\n        <main className=\"font-sans text-black bg-zinc-300 relative text-center min-h-screen pb-[24px]\">\n          {/* <div className=\"fixed w-full h-full top-0 left-0 bg-repeat bg-scroll bg-slate-900 bg-colosseum bg-blend-screen bg-cover opacity-40 -z-10\"></div> */}\n          <NavBar loggedIn={loggedIn} noChanges={noChanges} />\n          {children}\n        </main>\n        <Footer loggedIn={loggedIn} />\n      </div>\n    </>\n  );\n};\n\nexport default Layout;\n","export default __webpack_public_path__ + \"static/Spotify_Logo_RGB_Green-0c4ae91bae23217d39c97c322a80e1fc.png\";","import React from \"react\";\n\nimport { generateRandomString } from \"../utilities/helpers\";\n\nimport spotifyLogoGreen from \"../assets/images/Spotify_Logo_RGB_Green.png\";\n\nconst LoginButton = ({ variant = \"borderless\" }) => {\n  function login() {\n    const stateKey = \"spotify_auth_state\";\n    const client_id = \"fff2634975884bf88e3d3c9c2d77763d\"; // Your client id\n    //let redirect_uri = 'https://spotifydata.com/songdata'; // Your redirect uri\n    console.log(window.location);\n    const redirect_uri = window.location.origin + \"/my-brackets\"; // Your redirect uri\n\n    const state = generateRandomString(16);\n\n    const show_dialog =\n      localStorage.getItem(\"rememberMe\") === \"true\" ? false : true;\n\n    sessionStorage.setItem(stateKey, state);\n    const scope =\n      \"playlist-modify-private playlist-modify-public user-read-private\";\n\n    let url = \"https://accounts.spotify.com/authorize\";\n    url += \"?response_type=token\";\n    url += \"&client_id=\" + encodeURIComponent(client_id);\n    url += \"&scope=\" + encodeURIComponent(scope);\n    url += \"&redirect_uri=\" + encodeURIComponent(redirect_uri);\n    url += \"&state=\" + encodeURIComponent(state);\n    url += \"&show_dialog=\" + encodeURIComponent(show_dialog);\n\n    localStorage.setItem(\"rememberMe\", true);\n    window.location = url;\n  }\n\n  return (\n    <button\n      onClick={login}\n      className={`${\n        variant === \"bordered\"\n          ? \"bg-black hover:bg-zinc-800 border-white hover:border-zinc-200 text-white\"\n          : \"bg-black hover:bg-zinc-800 border-black hover:border-zinc-800 text-white\"\n      } inline-flex flex-row items-center justify-center`}\n    >\n      <span>Login with&nbsp;</span>\n      <img\n        src={spotifyLogoGreen}\n        alt=\"Spotify\"\n        className=\"h-6 text-white\"\n      ></img>\n    </button>\n  );\n};\n\nexport default LoginButton;\n","// Screnshot library\nimport html2canvas from \"html2canvas\";\n\nimport { navigate } from \"gatsby\";\n\nimport { getUserInfo } from \"./spotify\";\n\nexport function generateRandomString(length) {\n\tlet text = '';\n\tlet possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n\tfor (let i = 0; i < length; i++) {\n\t\ttext += possible.charAt(Math.floor(Math.random() * possible.length));\n\t}\n\treturn text;\n}\n\nexport async function getParamsFromURL(new_url) {\n\ttry {\n\t\tlet hashParams = getHashParams()\n\t\tif (hashParams.raw_hash !== '') {\n\t\t\twindow.history.replaceState({}, document.title, new_url);\n\t\t\thashParams.expires_at = Date.now() + (parseInt(hashParams.expires_in) * 1000);\n\t\t\tdelete hashParams.expires_in;\n\t\t\treturn hashParams;\n\t\t}\n\t\treturn {};\n\t} catch (err) {\n\t\tconsole.error(err.message);\n\t\treturn {};\n\t}\n}\n\nfunction getHashParams() {\n\tlet hashParams = {};\n\tlet e, r = /([^&;=]+)=?([^&;]*)/g,\n\t\tq = window.location.hash.substring(1);\n\thashParams['raw_hash'] = window.location.hash;\n\twhile (e = r.exec(q)) {\n\t\thashParams[e[1]] = decodeURIComponent(e[2]);\n\t}\n\treturn hashParams;\n}\n\nexport function checkSpotifyAuth(timer = undefined) {\n\tlet mydate = new Date(parseInt(sessionStorage.getItem(\"expireTime\")));\n\tif (\n\t\tsessionStorage.getItem(\"expireTime\") === null ||\n\t\tsessionStorage.getItem(\"accessToken\") === null ||\n\t\tmydate.toString() === \"Invalid Date\" ||\n\t\tDate.now() > mydate\n\t) {\n\t\tif (timer) {\n\t\t\tclearInterval(timer);\n\t\t}\n\t\treturn false;\n\t} else {\n\t\treturn true;\n\t}\n}\n\nexport function popularitySort(track1, track2) {\n\tif (track1.popularity > track2.popularity) { return -1 };\n\tif (track1.popularity < track2.popularity) { return 1 };\n\t// sort alphabetically for consistency if popularity is the same\n\treturn track1.name < track2.name ? -1 : track1.name > track2.name;\n}\n\nexport function switchEveryOther(array) {\n\tfor (let i = 1; i < array.length / 2; i += 2) {\n\t\tif (i % 2 !== 0) {\n\t\t\t//console.log(\"switching\", array[array.length - i].name, \"AND\", array[i].name);\n\t\t\tlet temp = array[i];\n\t\t\tarray[i] = array[array.length - i];\n\t\t\tarray[array.length - i] = temp;\n\t\t}\n\t}\n\treturn array;\n}\n\n// removes duplicates in an array of objects if a certain key/value is repeated\nexport function removeDuplicatesWithKey(theArray, key) {\n\tconsole.log(theArray);\n\t// init tracking array\n\tlet tempArray = [];\n\t//loop through given array\n\tfor (let index in theArray) {\n\t\tif (theArray[index][key] === \"Jail\") {\n\t\t\tconsole.log(tempArray);\n\t\t\tconsole.log(index);\n\t\t}\n\t\t//check to see if element at the key is already in tracking array\n\t\tif (tempArray.includes(theArray[index][key])) {\n\t\t\tconsole.log(theArray[index][key])\n\t\t\t// remove element at the current position from the array\n\t\t\ttheArray.splice(index, 1);\n\t\t\t// deincrement our position to account for the ddeleted item\n\t\t\tindex--;\n\t\t} else {\n\t\t\t// add element to our tracking array\n\t\t\ttempArray.push(theArray[index][key]);\n\t\t}\n\t}\n\treturn theArray;\n}\n\nexport async function shuffleArray(array) {\n\tlet currentIndex = array.length, randomIndex;\n\t// While there remain elements to shuffle.\n\twhile (currentIndex !== 0) {\n\t\t// Pick a remaining element.\n\t\trandomIndex = Math.floor(Math.random() * currentIndex);\n\t\tcurrentIndex--;\n\t\t// And swap it with the current element.\n\t\t[array[currentIndex], array[randomIndex]] = [\n\t\t\tarray[randomIndex], array[currentIndex]];\n\t}\n\treturn array;\n}\n\nexport function nearestGreaterPowerOf2(num) {\n\tlet current = 0;\n\tlet j = 0;\n\twhile (current <= num) {\n\t\tcurrent = 2 ** (j + 1);\n\t\tj++;\n\t}\n\treturn current;\n}\n\nexport function nearestLesserPowerOf2(num) {\n\tlet last = 0;\n\tlet current = 0;\n\tlet j = 0;\n\twhile (current <= num) {\n\t\tlast = current\n\t\tcurrent = 2 ** (j + 1);\n\t\tj++;\n\t}\n\treturn last;\n}\n\nexport function bracketSorter(a, b) {\n\tconst value1 = a[1];\n\tconst value2 = b[1];\n\n\t// r > l\n\t// for r, sort col increasing\n\t// for l, sort col decreasing\n\t// always sort row increasing\n\n\tif (value1.side === \"r\" && value2.side === \"l\") {\n\t\treturn -1;\n\t} else if (value1.side === \"l\" && value2.side === \"r\") {\n\t\treturn 1;\n\t} else if (value1.side === \"l\" && value2.side === \"l\") {\n\t\tif (value1.col > value2.col) {\n\t\t\treturn -1;\n\t\t} else if (value1.col < value2.col) {\n\t\t\treturn 1;\n\t\t} else {\n\t\t\tif (value1.index > value2.index) {\n\t\t\t\treturn 1;\n\t\t\t} else if (value1.index < value2.index) {\n\t\t\t\treturn -1;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t} else if (value1.side === \"r\" && value2.side === \"r\") {\n\t\tif (value1.col > value2.col) {\n\t\t\treturn 1;\n\t\t} else if (value1.col < value2.col) {\n\t\t\treturn -1;\n\t\t} else {\n\t\t\tif (value1.index > value2.index) {\n\t\t\t\treturn 1;\n\t\t\t} else if (value1.index < value2.index) {\n\t\t\t\treturn -1;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t} else {\n\t\tthrow new Error(\"Found bracket with invalid side: \" + value1.side + \" or \" + value2.side);\n\t}\n}\n\nexport function openBracket(uuid, userId = undefined, state = {}) {\n\tconsole.log(\"Opening Bracket: \" + uuid);\n\t//open the bracket editor and pass the bracket id off\n\tnavigate(\"/user/\" + (userId ? userId : getUserInfo().id) + \"/bracket/\" + uuid, { state: state });\n}\n\nexport function downloadBracket(bracketId, artistName) {\n\tlet bracketEl = document.getElementById(bracketId);\n\thtml2canvas(bracketEl, {\n\t\tscale: 4,\n\t\tscrollX: -bracketEl.offsetLeft,\n\t\tscrollY: -bracketEl.offsetTop,\n\t\tlogging: false,\n\t}).then(function (canvas) {\n\t\t//canvas = document.body.appendChild(canvas); // used for debugging\n\t\t//console.log(canvas.width, canvas.height);\n\t\tlet ctx = canvas.getContext(\"2d\");\n\t\tctx.textAlign = \"center\";\n\t\tctx.textBaseline = \"middle\";\n\t\tctx.fillStyle = \"black\";\n\t\tctx.font = \"bold 30px sans-serif\";\n\t\tctx.fillText(artistName, canvas.width / 8, canvas.height / 16, 225);\n\t\tctx.font = \"8px sans-serif\";\n\t\tctx.fillText(\n\t\t\t\"Bracket made at cgarren.github.io/song-coliseum\",\n\t\t\tcanvas.width / 8,\n\t\t\tcanvas.height / 16 + 20,\n\t\t\t225\n\t\t);\n\t\tconst createEl = document.createElement(\"a\");\n\t\tcreateEl.href = canvas.toDataURL(\"image/svg+xml\");\n\t\tcreateEl.download = artistName + \" bracket from Beat Bracket\";\n\t\tcreateEl.click();\n\t\tcreateEl.remove();\n\t});\n}\n\nexport function bracketUnchanged(bracket) {\n\tif (!bracket instanceof Map) return false;\n\tfor (let element of bracket.values()) {\n\t\tif (element.col !== 0 && element.song) {\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n}","// Guest profile pic\nimport guestProfileImage from \"../assets/images/guestProfileImage.png\";\nimport { checkSpotifyAuth } from \"./helpers\";\n\nasync function loadSpotifyRequest(url, params) {\n\tif (checkSpotifyAuth()) {\n\t\tif (params) {\n\t\t\turl = url + \"?\" + new URLSearchParams(params);\n\t\t}\n\t\tconst response = await fetch(url, {\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'Authorization': 'Bearer ' + sessionStorage.getItem('accessToken')\n\t\t\t}\n\t\t});\n\n\t\tif (response.ok) {\n\t\t\treturn response.json(); // parses JSON response into native JavaScript objects\n\t\t} else {\n\t\t\treturn 1;\n\t\t}\n\t} else {\n\t\treturn 1;\n\t}\n}\n\nasync function postRequest(url, params, data) {\n\tif (params) {\n\t\turl = url + \"?\" + new URLSearchParams(params);\n\t}\n\tconst response = await fetch(url, {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\t'Content-Type': 'application/json',\n\t\t\t'Authorization': 'Bearer ' + sessionStorage.getItem('accessToken')\n\t\t},\n\t\tbody: JSON.stringify(data)\n\t});\n\n\tif (response.ok) {\n\t\treturn response.json(); // parses JSON response into native JavaScript objects\n\t} else if (response.status === 429) {\n\t\tthrow new Error(\"Too many requests. Code: \" + response.status);\n\t} else {\n\t\tthrow new Error(\"Unknown request error. Code: \" + response.status);\n\t}\n}\n\nasync function putRequest(url, params, data) {\n\tif (params) {\n\t\turl = url + \"?\" + new URLSearchParams(params);\n\t}\n\tconst response = await fetch(url, {\n\t\tmethod: 'PUT',\n\t\theaders: {\n\t\t\t'Content-Type': 'image/jpeg',\n\t\t\t'Authorization': 'Bearer ' + sessionStorage.getItem('accessToken')\n\t\t},\n\t\t///body: data\n\t});\n\n\tif (response.ok) {\n\t\treturn response.json(); // parses JSON response into native JavaScript objects\n\t} else if (response.status === 429) {\n\t\tthrow new Error(\"Too many requests. Code: \" + response.status);\n\t} else {\n\t\tthrow new Error(\"Unknown request error. Code: \" + response.status);\n\t}\n}\n\nasync function createPlaylist(name = \"New Playlist\", description = \"\", isPublic = true, isCollaborative = false) {\n\tconst response = await loadSpotifyRequest(\"https://api.spotify.com/v1/me\");\n\tif (!response[\"error\"]) {\n\t\tconst url = \"https://api.spotify.com/v1/users/\" + response.id + \"/playlists\"\n\t\treturn await postRequest(url, {}, {\n\t\t\t\"name\": name,\n\t\t\t\"public\": isPublic,\n\t\t\t\"collaborative\": isCollaborative,\n\t\t\t\"description\": description\n\t\t})\n\t}\n\treturn response;\n}\n\nasync function addTracksToPlaylist(playlistId, trackUris) {\n\tconst url = \"https://api.spotify.com/v1/playlists/\" + playlistId + \"/tracks\"\n\treturn await postRequest(url, {\n\t\t\"uris\": trackUris\n\t})\n}\n\nasync function getUserInfo(userId = undefined) {\n\tlet url = \"https://api.spotify.com/v1/me\";\n\tif (userId) {\n\t\turl = \"https://api.spotify.com/v1/users/\" + userId;\n\t}\n\tconst response = await loadSpotifyRequest(url);\n\tif (response !== 1) {\n\t\tif (response.images.length === 0) {\n\t\t\tresponse.images.push({\n\t\t\t\turl: guestProfileImage,\n\t\t\t});\n\t\t}\n\t\treturn response;\n\t} else {\n\t\treturn 1;\n\t}\n}\n\nasync function isCurrentUser(userId) {\n\tconst currentUser = await getUserInfo();\n\tif (userId === currentUser.id) {\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n}\n\nexport {\n\tloadSpotifyRequest,\n\tpostRequest,\n\tputRequest,\n\taddTracksToPlaylist,\n\tcreatePlaylist,\n\tgetUserInfo,\n\tisCurrentUser\n}","export default __webpack_public_path__ + \"static/guestProfileImage-56ea6ecf196675a29e7b5ffca974fde1.png\";"],"names":["Script","src","alt","width","height","question","answer","className","loggedIn","LoginButton","variant","href","heightClass","spotifyLogo","noChanges","showDropdown","setShowDropdown","useState","shownUserInfo","setShownUserInfo","display_name","id","images","url","guestProfileImage","useEffect","getUserInfo","then","userInfo","type","onClick","title","hidden","xmlns","viewBox","fill","fillRule","d","clipRule","path","navigate","sessionStorage","clear","localStorage","setItem","children","setLoggedIn","checkSpotifyAuth","console","log","timer","setInterval","clearInterval","Clicky","Footer","window","location","redirect_uri","origin","state","generateRandomString","show_dialog","getItem","encodeURIComponent","spotifyLogoGreen","length","text","possible","i","charAt","Math","floor","random","async","getParamsFromURL","new_url","hashParams","e","r","q","hash","substring","exec","decodeURIComponent","getHashParams","raw_hash","history","replaceState","document","expires_at","Date","now","parseInt","expires_in","err","error","message","undefined","mydate","toString","popularitySort","track1","track2","popularity","name","shuffleArray","array","randomIndex","currentIndex","nearestGreaterPowerOf2","num","current","j","nearestLesserPowerOf2","last","bracketSorter","a","b","value1","value2","side","col","index","Error","openBracket","uuid","userId","bracketUnchanged","bracket","Map","element","values","song","loadSpotifyRequest","params","URLSearchParams","response","fetch","headers","ok","json","push","isCurrentUser"],"sourceRoot":""}