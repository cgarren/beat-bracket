{"version":3,"file":"component---src-pages-my-brackets-js-30894a4f5a60cf8e2de1.js","mappings":"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","sources":["webpack://beatbracket/./src/components/BracketCard/BracketCard.jsx","webpack://beatbracket/./src/components/BracketCard/ArtistBracketCard.jsx","webpack://beatbracket/./src/components/Tab.jsx","webpack://beatbracket/./src/assets/images/createBracket.png","webpack://beatbracket/./node_modules/uuid/dist/esm-browser/native.js","webpack://beatbracket/./node_modules/uuid/dist/esm-browser/rng.js","webpack://beatbracket/./node_modules/uuid/dist/esm-browser/stringify.js","webpack://beatbracket/./node_modules/uuid/dist/esm-browser/v4.js","webpack://beatbracket/./src/components/Search/ArtistSuggestion.jsx","webpack://beatbracket/./src/components/Search/SearchBar.jsx","webpack://beatbracket/./src/components/BracketCard/CreateBracketCard.jsx","webpack://beatbracket/./src/pages/my-brackets.js"],"sourcesContent":["import React from \"react\";\nimport LoadingIndicator from \"../LoadingIndicator\";\n\nconst BracketCard = ({\n  children,\n  image,\n  cardText,\n  onClick = () => {},\n  removeFunc = null,\n}) => {\n  return (\n    <div className=\"relative\">\n      {removeFunc && image ? (\n        <button\n          onClick={removeFunc}\n          className=\"border-0 p-0 w-[30px] h-[30px] bg-white text-black absolute -top-2 -right-2 rounded-full\"\n        >\n          {\"âœ•\"}\n        </button>\n      ) : null}\n      <button\n        className=\"text-center p-3\"\n        onClick={onClick}\n        disabled={image ? false : true}\n      >\n        <div className=\"rounded-lg w-[320px] h-[320px]\">\n          {image ? (\n            <img\n              src={image}\n              className=\"w-[320px] h-[320px]\"\n              width=\"320px\"\n              height=\"320px\"\n              alt={cardText}\n            />\n          ) : (\n            <LoadingIndicator loadingText=\"\" hidden={false} />\n          )}\n        </div>\n        {children}\n        <div className=\"w-[320px]\">{cardText}</div>\n      </button>\n    </div>\n  );\n};\n\nexport default BracketCard;\n","import React, { useState } from \"react\";\nimport BracketCard from \"./BracketCard\";\nimport { openBracket } from \"../../utilities/helpers\";\nimport { deleteBracket } from \"../../utilities/backend\";\nimport { loadSpotifyRequest } from \"../../utilities/spotify\";\n\nconst ArtistBracketCard = ({ bracket, userId }) => {\n  const [cardImage, setCardImage] = useState(null);\n  const [cardName, setCardName] = useState(\"Loading...\");\n\n  React.useEffect(() => {\n    if (bracket.artistId) {\n      setCardName(makeCardName());\n      getArtistImage().then((image) => {\n        setCardImage(image);\n      });\n    }\n  }, [bracket]);\n\n  async function getArtistImage() {\n    const url = \"https://api.spotify.com/v1/artists/\" + bracket.artistId;\n    const response = await loadSpotifyRequest(url);\n    if (response === 1) {\n      return null;\n    }\n    return response.images[0].url;\n  }\n\n  async function removeBracket() {\n    if (\n      window.confirm(\n        \"Are you sure you want to permanently delete this \" +\n          bracket.artistName +\n          \" bracket?\"\n      )\n    ) {\n      console.log(\"removing bracket\");\n      if ((await deleteBracket(bracket.id, userId)) === 0) {\n        window.location.reload();\n      } else {\n        //show error removing bracket alert\n      }\n    }\n  }\n  function makeCardName() {\n    return (\n      <div className=\"inline-flex gap-0.5\">\n        <span>\n          {bracket.artistName\n            ? bracket.artistName + \" (\" + bracket.tracks + \" tracks)\"\n            : \"Getting brackets...\"}\n        </span>\n        {bracket.completed ? (\n          <span className=\"text-green-600 text-xs font-medium inline-flex items-center px-0.5 py-0.5 rounded-md\">\n            <svg\n              className=\"w-4 h-4\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth=\"2\"\n                d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"\n              ></path>\n            </svg>\n          </span>\n        ) : (\n          <div></div>\n        )}\n      </div>\n    );\n  }\n\n  return (\n    <BracketCard\n      image={cardImage}\n      cardText={cardName}\n      removeFunc={removeBracket}\n      onClick={() => {\n        openBracket(bracket.id, userId);\n      }}\n    />\n  );\n};\n\nexport default ArtistBracketCard;\n","import React from \"react\";\n\nconst Tab = ({ text, activeTab, id, setActiveTab }) => {\n  return (\n    <button\n      className={\n        \"text-gray-600 py-4 px-6 block bg-transparent hover:bg-transparent border-transparent hover:text-blue-500 hover:border-blue-500 focus:outline-none border-b-2 border-x-0 border-t-0 rounded-none font-medium \" +\n        (activeTab === id ? \"text-blue-500 border-blue-500\" : \"\")\n      }\n      onClick={() => setActiveTab(id)}\n    >\n      {text}\n    </button>\n  );\n};\n\nexport default Tab;\n","export default __webpack_public_path__ + \"static/createBracket-0d50326bd56d099bd40ebec3b048bc52.png\";","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;","import * as React from \"react\";\n\nconst ArtistSuggestion = ({ artistName, art, onClick }) => {\n  return (\n    <button\n      onClick={onClick}\n      className=\"text-l flex first:rounded-t-[inherit] last:rounded-b-[inherit] w-auto bg-white hover:bg-gray-100 focus-visible:bg-gray-100 focus:border-blue-500 focus-visible:border-blue-500 focus:bg-gray-100 cursor-pointer py-1 px-2 border border-[rgba(0,0,0,0.125)] items-center\"\n    >\n      <img src={art} alt={artistName} className=\"h-10 w-10\" />\n      &nbsp;{artistName}\n    </button>\n  );\n};\n\nexport default ArtistSuggestion;\n","import React, { useState, useEffect } from \"react\";\nimport ArtistSuggestion from \"./ArtistSuggestion\";\nimport { loadSpotifyRequest } from \"../../utilities/spotify\";\n\nconst SearchBar = ({ setArtist, disabled }) => {\n  const [searchText, setSearchText] = useState(\"\");\n  const [artistSuggestionList, setArtistSuggestionList] = useState([]);\n\n  async function searchSuggestions() {\n    if (searchText.trim() !== \"\") {\n      var params = { q: searchText, type: \"artist\", limit: 5 };\n      var url =\n        \"https://api.spotify.com/v1/search/?\" +\n        new URLSearchParams(params).toString();\n      let response = await loadSpotifyRequest(url);\n\n      if (response !== 1 && response.artists.items.length > 0) {\n        let templist = [];\n        response.artists.items.forEach((item) => {\n          if (item.images.length > 0) {\n            templist.push({\n              name: item.name,\n              art: item.images[2].url,\n              id: item.id,\n              onClick: () => {\n                setArtist({\n                  name: item.name,\n                  id: item.id,\n                  art: item.images[2].url,\n                });\n                setSearchText(\"\");\n              },\n            });\n          }\n        });\n        setArtistSuggestionList(templist);\n      } else {\n        setArtistSuggestionList([]);\n      }\n    } else {\n      setArtistSuggestionList([]);\n    }\n  }\n\n  useEffect(() => {\n    searchSuggestions();\n    //console.log(searchText);\n  }, [searchText]);\n\n  useEffect(() => {\n    document.getElementById(\"searchbar\").addEventListener(\"keydown\", (e) => {\n      if (e.key === \"ArrowDown\") {\n        e.preventDefault();\n        if (document.getElementById(\"artist-list\").children.length > 0) {\n          document.getElementById(\"artist-list\").firstChild.focus();\n        }\n      }\n    });\n    document.getElementById(\"artist-list\").addEventListener(\"keydown\", (e) => {\n      if (document.getElementById(\"artist-list\").children.length > 0) {\n        if (e.key === \"ArrowUp\") {\n          e.preventDefault();\n          e.stopPropagation();\n          if (\n            document.activeElement ===\n            document.getElementById(\"artist-list\").firstChild\n          ) {\n            document.getElementById(\"searchbar\").focus();\n          } else if (\n            document\n              .getElementById(\"artist-list\")\n              .contains(document.activeElement)\n          ) {\n            document.activeElement.previousSibling.focus();\n          }\n        } else if (e.key === \"ArrowDown\") {\n          e.preventDefault();\n          e.stopPropagation();\n          if (\n            document\n              .getElementById(\"artist-list\")\n              .contains(document.activeElement) &&\n            document.activeElement.nextSibling\n          ) {\n            document.activeElement.nextSibling.focus();\n          }\n        }\n      }\n    });\n  }, []);\n\n  // $(\"#myDropdown, .dropbtn\").on(\"keydown\", function (e) {\n  //   if (e.which == 40) {\n  //     //down\n  //     pos = pos == maxpos ? 0 : pos + 1;\n  //     $(\"#myDropdown a\").eq(pos).trigger(\"focus\");\n  //   }\n  //   if (e.which == 38) {\n  //     //up\n  //     pos = pos == 0 ? maxpos : pos - 1;\n  //     $(\"#myDropdown a\").eq(pos).trigger(\"focus\");\n  //   }\n  //   return false; //cancel scrolling\n  // });\n\n  return (\n    // <div className=\"mb-2 max-w-[800px] min-w-[25%] flex flex-col\">\n    <div className=\"inline-flex flex-col justify-items-center mb-2 place-items-center border-black border-0 rounded-md \">\n      <input\n        placeholder=\"Search for an artist...\"\n        aria-label=\"Search for an artist...\"\n        size=\"search\"\n        id=\"searchbar\"\n        type=\"search\"\n        spellCheck={false}\n        autoComplete=\"off\"\n        autoCorrect=\"off\"\n        autoCapitalize=\"off\"\n        autoFocus={true}\n        value={searchText}\n        onChange={(e) => setSearchText(e.target.value)}\n        className={\n          \"text-black text-2xl font-bar w-full p-1 border-2 border-gray-500 rounded focus:z-10 pl-3 mousetrap focus-visible:outline-none focus-visible:border-blue-500 focus-visible:border-1\"\n        }\n        disabled={disabled}\n      />\n      <div\n        id=\"artist-list\"\n        className=\"m-0 p-0 list-none flex-nowrap gap-0 inline-flex flex-col text-center w-full rounded\"\n      >\n        {artistSuggestionList.map((item) => {\n          return (\n            <ArtistSuggestion\n              artistName={item.name}\n              art={item.art}\n              onClick={item.onClick}\n              key={item.id}\n            />\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default SearchBar;\n","import React, { useEffect, useState } from \"react\";\nimport BracketCard from \"./BracketCard\";\nimport createBracketPic from \"../../assets/images/createBracket.png\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport SearchBar from \"../Search/SearchBar\";\nimport { openBracket } from \"../../utilities/helpers\";\n\nconst CreateBracketCard = ({ userId }) => {\n  const [artist, setArtist] = useState(undefined);\n  const [showSearchBar, setShowSearchBar] = useState(false);\n  function createNewBracket() {\n    setShowSearchBar(true);\n  }\n\n  useEffect(() => {\n    if (artist) {\n      // Generate unique id for new bracket\n      const uuid = uuidv4();\n      console.log(\"Create New Bracket with id: \" + uuid);\n      openBracket(uuid, userId, { artist: artist });\n    }\n  }, [artist]);\n\n  return (\n    <div>\n      <BracketCard\n        image={createBracketPic}\n        cardText={\"Create Bracket\"}\n        onClick={createNewBracket}\n      ></BracketCard>\n      {/* <div className=\"absolute top-0 left-0\">\n        <SearchBar setArtist={setArtist} />\n      </div> */}\n      {showSearchBar ? (\n        <div\n          tabIndex=\"-1\"\n          className=\"fixed top-0 left-0 right-0 z-50 p-4 overflow-x-hidden overflow-y-auto inset-0 h-modal h-full bg-black bg-opacity-50\"\n        >\n          <div className=\"absolute top-[50%] left-[50%] -translate-x-1/2 -translate-y-1/2 w-full max-w-md h-auto\">\n            <div className=\"relative bg-white rounded-lg shadow\">\n              <button\n                type=\"button\"\n                className=\"absolute top-3 right-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center \"\n                onClick={() => setShowSearchBar(false)}\n              >\n                <svg\n                  className=\"w-5 h-5\"\n                  fill=\"currentColor\"\n                  viewBox=\"0 0 20 20\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                >\n                  <path\n                    fillRule=\"evenodd\"\n                    d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\"\n                    clipRule=\"evenodd\"\n                  ></path>\n                </svg>\n                <span className=\"sr-only\">Close modal</span>\n              </button>\n              <div className=\"p-6 text-center\">\n                <SearchBar setArtist={setArtist} />\n              </div>\n            </div>\n          </div>\n        </div>\n      ) : null}\n    </div>\n  );\n};\n\nexport default CreateBracketCard;\n","import React, { useEffect, useState } from \"react\"\nimport Layout from \"../components/Layout\";\nimport ArtistBracketCard from \"../components/BracketCard/ArtistBracketCard\";\nimport Tab from \"../components/Tab\";\nimport CreateBracketCard from \"../components/BracketCard/CreateBracketCard\";\nimport Alert from \"../components/Alert\";\nimport { getBrackets, authenticate } from \"../utilities/backend\";\nimport { getUserInfo } from \"../utilities/spotify\";\nimport { navigate } from \"gatsby\";\nimport { getParamsFromURL } from \"../utilities/helpers\";\n\n// markup\nconst App = () => {\n  const [brackets, setBrackets] = useState([\n    { id: 1, userId: undefined, artistName: undefined, artistId: undefined, tracks: undefined, completed: false },\n  ]);\n  const [shownBrackets, setShownBrackets] = useState(brackets);\n  const [activeTab, setActiveTab] = useState(0);\n  const [currentUserId, setCurrentUserId] = useState(undefined);\n  const [alertInfo, setAlertInfo] = useState({ show: false, message: null, type: null, timeoutId: null });\n  const [error, setError] = useState(false);\n  const maxBrackets = 10;\n\n  useEffect(() => {\n    setShownBrackets(brackets.filter((bracket) => {\n      if (activeTab === 0) return true;\n      if (activeTab === 1) return !bracket.completed;\n      if (activeTab === 2) return bracket.completed;\n      return true;\n    }));\n  }, [activeTab, brackets]);\n\n  async function processLogin() {\n    const params = await getParamsFromURL(window.location.pathname)\n    // check to see if the user just logged in\n    if (params && Object.keys(params).length > 0) {\n      // make sure the state matches\n      if (\n        params.state === sessionStorage.getItem(\"spotify_auth_state\") &&\n        params.access_token &&\n        params.expires_at\n      ) {\n        sessionStorage.setItem(\"accessToken\", params.access_token);\n        sessionStorage.setItem(\"expireTime\", params.expires_at);\n        // get user info in order to authenticate with backend\n        const userInfo = await getUserInfo();\n        if (userInfo !== 1) {\n          // authenticate with backend\n          console.log(userInfo);\n          const success = await authenticate(\n            userInfo.id,\n            params.state,\n            params.expires_at,\n            params.access_token\n          );\n          // if there's an error, redirect to home page\n          if (success === 1) {\n            console.log(\"Error authenticating\");\n            setError(true);\n            // show notification\n            showAlert(\"Error authenticating\", \"error\", false);\n            // redirect to home page\n            navigate(\"/\");\n            return;\n          } else {\n            // set sessionId\n            sessionStorage.setItem(\"sessionId\", params.state);\n            // set userId\n            sessionStorage.setItem(\"userId\", userInfo.id);\n            // remove spotify auth state\n            sessionStorage.removeItem(\"spotify_auth_state\");\n          }\n        } else {\n          console.log(\"Error getting user info\");\n          setError(true);\n          // show notification\n          showAlert(\"Error getting user information\", \"error\", false);\n          return;\n        }\n      }\n    }\n  }\n\n  useEffect(() => {\n    processLogin().then(() => {\n      setCurrentUserId(sessionStorage.getItem(\"userId\"));\n      getBrackets().then((loadedBrackets) => {\n        if (loadedBrackets !== 1) {\n          console.log(loadedBrackets);\n          setBrackets(loadedBrackets);\n          setShownBrackets(loadedBrackets);\n        } else {\n          console.log(\"Error loading brackets\");\n          // show notification\n          showAlert(\"Error loading brackets, try logging in again\", \"error\", false);\n          setError(true);\n          navigate(\"/\");\n        }\n      });\n    });\n  }, []);\n\n  function showAlert(message, type = \"info\", timeout = true) {\n    if (alertInfo.timeoutId) {\n      clearTimeout(alertInfo.timeoutId);\n    }\n    let timeoutId = null;\n    if (timeout) {\n      timeoutId = setTimeout(() => {\n        setAlertInfo({ show: false, message: null, type: null, timeoutId: null });\n      }, 5000);\n    }\n    setAlertInfo({ show: true, message: message, type: type, timeoutId: timeoutId });\n  }\n\n  function closeAlert() {\n    if (alertInfo.timeoutId) {\n      clearTimeout(alertInfo.timeoutId);\n    }\n    setAlertInfo({ show: false, message: null, type: null, timeoutId: null });\n  }\n\n  return (\n    <Layout noChanges={() => { return true }}>\n      <Alert show={alertInfo.show} close={closeAlert} message={alertInfo.message} type={alertInfo.type} />\n      <div className=\"text-center\" hidden={error}>\n        <h1 className=\"text-4xl font-extrabold font-display\">My Brackets</h1>\n        {currentUserId ? <p className=\"text-sm text-gray-500 mb-2\">{brackets.length + \"/\" + maxBrackets + \" brackets used\"}</p> : null}\n\n        <div className=\"\">\n          <nav className=\"inline-flex flex-row\">\n            <Tab id={0} activeTab={activeTab} setActiveTab={setActiveTab} text=\"All\" />\n            <Tab id={1} activeTab={activeTab} setActiveTab={setActiveTab} text=\"In Progess\" />\n            <Tab id={2} activeTab={activeTab} setActiveTab={setActiveTab} text=\"Completed\" />\n          </nav>\n        </div>\n        <div className=\"pt-3 flex flex-row flex-wrap justify-center items-stretch gap-5 sm:mx-5\">\n          {activeTab === 0 && brackets.length < maxBrackets && currentUserId ? <CreateBracketCard userId={currentUserId} /> : null}\n          {shownBrackets.map((bracket) => (\n            <ArtistBracketCard bracket={bracket} key={bracket.id} userId={currentUserId} />\n          ))}\n        </div>\n      </div>\n    </Layout>\n  )\n}\n\nexport default App\n\nexport function Head() {\n  return (\n    <title>Beat Bracket - My Brackets</title>\n  )\n}\n"],"names":["children","image","cardText","onClick","removeFunc","className","disabled","src","width","height","alt","LoadingIndicator","loadingText","hidden","bracket","userId","cardImage","setCardImage","useState","cardName","setCardName","React","artistId","artistName","tracks","completed","fill","stroke","viewBox","xmlns","strokeLinecap","strokeLinejoin","strokeWidth","d","async","url","response","loadSpotifyRequest","images","getArtistImage","then","window","confirm","console","log","deleteBracket","id","location","reload","openBracket","text","activeTab","setActiveTab","randomUUID","crypto","bind","getRandomValues","rnds8","Uint8Array","rng","Error","byteToHex","i","push","toString","slice","unsafeStringify","arr","offset","toLowerCase","options","buf","rnds","random","art","setArtist","searchText","setSearchText","artistSuggestionList","setArtistSuggestionList","useEffect","trim","URLSearchParams","q","type","limit","artists","items","length","templist","forEach","item","name","searchSuggestions","document","getElementById","addEventListener","e","key","preventDefault","firstChild","focus","stopPropagation","activeElement","contains","previousSibling","nextSibling","placeholder","size","spellCheck","autoComplete","autoCorrect","autoCapitalize","autoFocus","value","onChange","target","map","artist","undefined","showSearchBar","setShowSearchBar","uuid","uuidv4","createBracketPic","tabIndex","fillRule","clipRule","brackets","setBrackets","shownBrackets","setShownBrackets","currentUserId","setCurrentUserId","alertInfo","setAlertInfo","show","message","timeoutId","error","setError","showAlert","timeout","clearTimeout","setTimeout","filter","params","getParamsFromURL","pathname","Object","keys","state","sessionStorage","getItem","access_token","expires_at","setItem","userInfo","getUserInfo","authenticate","navigate","removeItem","processLogin","getBrackets","loadedBrackets","Layout","noChanges","Alert","close","Head"],"sourceRoot":""}