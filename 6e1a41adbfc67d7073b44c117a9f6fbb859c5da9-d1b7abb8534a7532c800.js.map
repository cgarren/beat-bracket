{"version":3,"file":"6e1a41adbfc67d7073b44c117a9f6fbb859c5da9-d1b7abb8534a7532c800.js","mappings":"+HAiGA,IA/Fc,IAAqC,IAApC,KAAEA,EAAI,MAAEC,EAAK,QAAEC,EAAO,KAAEC,GAAM,EAC3C,MAAMC,EAAa,CACjBC,KAAM,CACJC,OAAQ,4BACRC,KACE,wBACEC,KAAK,eACLC,EAAE,qZAIRC,QAAS,CACPJ,OAAQ,8BACRC,KACE,wBACEC,KAAK,eACLC,EAAE,0WAIRE,MAAO,CACLL,OAAQ,0BACRC,KACE,wBACEC,KAAK,eACLC,EAAE,6XAIRG,QAAS,CACPN,OAAQ,gCACRC,KACE,wBACEC,KAAK,eACLC,EAAE,ucAMV,OACE,uBAAKI,UAAU,0CAA0CC,KAAK,SAC5D,uBACED,UACE,uCACCT,EAAWD,GAAQC,EAAWD,GAAMG,OAAS,IAC9C,KACCN,EAAO,OAAS,WAGnB,uBACE,cAAY,OACZe,UAAU,QACV,YAAU,eACVF,UAAU,iDACVC,KAAK,MACLE,MAAM,6BACNC,QAAQ,eAEPb,EAAWD,GAAQC,EAAWD,GAAMI,KAAO,MAE9C,wBAAMM,UAAU,WAAU,QAC1B,2BACE,wBAAMA,UAAU,oCAAoCX,IAGtD,0BACEC,KAAK,SACLU,WACGT,EAAWD,GAAQC,EAAWD,GAAMG,OAAS,IAAM,IACpD,iKAEF,aAAW,QACXY,QAAS,IAAMjB,KAEf,wBAAMY,UAAU,WAAU,SAC1B,uBACE,cAAY,OACZA,UAAU,UACVL,KAAK,eACLS,QAAQ,YACRD,MAAM,8BAEN,wBACEG,SAAS,UACTV,EAAE,qMACFW,SAAS,eAKb,C,+EC3EV,MAdmB,IAAe,IAAd,KAAEpB,GAAM,EAC1B,OACE,uBAAKqB,QAASrB,GACZ,uBAAKa,UAAU,wGACb,uBAAKA,UAAU,oCAAmC,0FAGhD,gBAACS,EAAA,EAAW,QAGZ,E,8BC+IV,MAvJwB,IAA8B,IAA7B,SAAEC,EAAQ,UAAEC,GAAW,EAC9C,MAAM,EAACC,EAAa,EAACC,IAAmBC,EAAAA,EAAAA,WAAS,IAC3C,EAACC,EAAc,EAACC,IAAoBF,EAAAA,EAAAA,UAAS,CACjDG,aAAc,QACdC,GAAI,GACJC,OAAQ,CACN,CACEC,IAAKC,EAAAA,MAuDX,OA9BAC,EAAAA,EAAAA,YAAU,KACJZ,GACFa,EAAAA,EAAAA,MAAcC,MAAMC,IAEhBT,EADe,IAAbS,EACeA,EAEA,CACfR,aAAc,QACdC,GAAI,GACJC,OAAQ,CACN,CACEC,IAAKC,EAAAA,KAIb,IAGFL,EAAiB,CACfC,aAAc,QACdC,GAAI,GACJC,OAAQ,CACN,CACEC,IAAKC,EAAAA,KAIb,GACC,CAACX,IAGF,2BACIA,EAKA,uBAAKV,UAAU,yBACb,0BACEV,KAAK,SACLU,UAAU,4FACVkB,GAAG,cACH,gBAAc,OACd,gBAAc,OACd,uBAAqB,iBACrBb,QAAS,KACHK,GACFG,GAAiBD,EACnB,GAGF,uBACEZ,UAAU,sCACV0B,IAAKX,EAAcI,OAAO,GAAGC,IAC7BO,IAAKZ,EAAcE,eAErB,qBAAGjB,UAAU,kCACX,0BAAQA,UAAU,qCACfe,EAAcE,cAEjB,wBAAMjB,UAAU,oEACbe,EAAcG,KAGnB,uBAAKV,QAASE,GACZ,uBACEP,MAAM,6BACNH,UAAU,wEACVI,QAAQ,YACRT,KAAK,gBAEL,wBACEW,SAAS,UACTV,EAAE,qHACFW,SAAS,eAKjB,sBACEW,GAAG,iBACHlB,UAAU,6HACV,kBAAgB,kBAChBQ,QAASI,GAOT,0BACE,0BACEP,QAjGd,WAfA,IAAiCuB,EAgB/Bf,GAAgB,GAhBee,EAiBP,eAhBpBjB,GAAU,KACZkB,EAAAA,EAAAA,UAASD,EAgBb,EA+Fc5B,UAAU,qGAEV,4BAAM,gBAER,0BACEK,QAhHd,WACMM,GAAU,KACZE,GAAgB,GAChBiB,eAAeC,QACfC,aAAaC,QAAQ,cAAc,IACnCJ,EAAAA,EAAAA,UAAS,KAEb,EA0Gc7B,UAAU,oHAEV,4BAAM,YACN,uBACEG,MAAM,6BACNH,UAAU,wEACVI,QAAQ,YACRT,KAAK,gBAEL,wBAAMC,EAAE,yEA3ElB,uBAAKI,UAAU,kBACb,gBAACS,EAAA,EAAW,OAiFZ,EC7HV,MAxBe,IAA8B,IAA7B,SAAEC,EAAQ,UAAEC,GAAW,EAMrC,OACE,0BAAQX,UAAU,iBAChB,uBAAKA,UAAU,uEACb,0BACEA,UAAU,mFACVK,QAVR,WACMM,GAAU,KACZkB,EAAAA,EAAAA,UAAS,IAEb,GAOO,gBAGD,gBAAC,EAAe,CACdnB,SAAUA,EACVC,UAAWA,KAGR,E,UCab,MA/Be,IAA8B,IAA7B,SAAEuB,EAAQ,UAAEvB,GAAW,EACrC,MAAM,EAACD,EAAS,EAACyB,IAAerB,EAAAA,EAAAA,WAAS,GAmBzC,OAjBAQ,EAAAA,EAAAA,YAAU,MACJc,EAAAA,EAAAA,OACFC,QAAQC,IAAI,aACZH,GAAY,IAEZA,GAAY,GAEd,MAAMI,EAAQC,aAAY,MACpBJ,EAAAA,EAAAA,IAAiBG,GACnBJ,GAAY,GAEZA,GAAY,EACd,GACC,KACH,MAAO,IAAMM,cAAcF,EAAM,GAChC,IAGD,wBAAMvC,UAAU,sEAEd,gBAAC,EAAU,CAACb,MAAM,IAClB,gBAAC,EAAM,CAACuB,SAAUA,EAAUC,UAAWA,IACtCuB,EACD,2BAAK,wBACA,C,qCCHX,IA5ByB,IAA8B,IAA7B,OAAE1B,EAAM,YAAEkC,GAAa,EAC/C,OACE,uBACE1C,WACGQ,EAAS,UAAY,IACtB,sGAGF,uBACER,UAAU,yDACVI,QAAQ,cACRT,KAAK,OACLQ,MAAM,8BAEN,wBACEP,EAAE,+WACFD,KAAK,iBAEP,wBACEC,EAAE,glBACFD,KAAK,iBAGT,4BAAO+C,GACH,C,+EC1BV,EAAe,IAA0B,qEC8CzC,MAxCoB,IA8BhB,0BACErC,QA9BJ,WAIEgC,QAAQC,IAAIK,OAAOC,UACnB,MAAMC,EAAeF,OAAOC,SAASE,OAAS,eAExCC,GAAQC,EAAAA,EAAAA,IAAqB,IAE7BC,EACmC,SAAvCjB,aAAakB,QAAQ,cAEvBpB,eAAeG,QAXE,qBAWgBc,GAIjC,IAAI3B,EAAM,yCACVA,GAAO,uBACPA,GAAO,cAAgB+B,mBAhBL,oCAiBlB/B,GAAO,UAAY+B,mBALjB,oEAMF/B,GAAO,iBAAmB+B,mBAAmBN,GAC7CzB,GAAO,UAAY+B,mBAAmBJ,GACtC3B,GAAO,gBAAkB+B,mBAAmBF,GAE5CjB,aAAaC,QAAQ,cAAc,GACnCU,OAAOC,SAAWxB,CACpB,EAKIpB,UAAU,6HAEV,4BAAM,eACN,uBAAK0B,IAAK0B,EAAazB,IAAI,UAAU3B,UAAU,mB,uBC5BrDqD,eAAeC,EAAmB1B,EAAM2B,EAAQC,EAAuGC,EAAMC,EAAcC,QAArH,IAANH,IAAAA,EAAS,CAAEI,OAAQ9B,eAAeoB,QAAQ,UAAWW,UAAW/B,eAAeoB,QAAQ,oBAA6B,IAAPQ,IAAAA,EAAU,CAAC,GACvK,IAAItC,EAAM,uEAAyEQ,EAC/E4B,IACHpC,EAAMA,EAAM,IAAM,IAAI0C,gBAAgBN,IAEvC,IAAIO,EAAiB,CACpBR,OAAQA,EACRG,QAASA,GAENC,IACHI,EAAeJ,YAAcA,GAE1BF,IACHM,EAAeC,KAAOC,KAAKC,UAAUT,IAItC,aAFuBU,MAAM/C,EAAK2C,EAGnC,CAEAV,eAAee,IACd,MAAMC,QAAiBf,EAAmB,SAAU,OACpD,OAAIe,EAASC,GACLD,EAASE,OAET,CAET,CAEAlB,eAAemB,EAAWtD,EAAI0C,GAC7B,MAAMS,QAAiBf,EAAmB,QAAS,MAAO,CAAEpC,GAAIA,EAAI0C,OAAQA,IAC5E,OAAIS,EAASC,GACLD,EAASE,OACc,MAApBF,EAASI,OACZ,KAEA,CAET,CAEApB,eAAeqB,EAAaC,GAC3BtC,QAAQC,IAAIqC,GAEZ,aADuBrB,EAAmB,QAAS,MAAO,CAAEO,UAAW/B,eAAeoB,QAAQ,cAAgByB,IACjGL,GACL,EAEA,CAET,CAQAjB,eAAeuB,EAAc1D,EAAI0C,GAChC,MAAMS,QAAiBf,EAAmB,QAAS,SAAU,CAAEpC,GAAIA,EAAI0C,OAAQ9B,eAAeoB,QAAQ,UAAWW,UAAW/B,eAAeoB,QAAQ,eACnJ,OAAImB,EAASC,GACL,EACuB,MAApBD,EAASI,OACZ,KAEA,CAET,CAEApB,eAAewB,EAAajB,EAAQC,EAAWiB,EAAYC,GAO1D,aANuBzB,EAAmB,QAAS,OAAQ,KAAM,CAChEM,OAAQA,EACRC,UAAWA,EACXiB,WAAYA,EACZC,YAAaA,GACX,CAAC,EAAG,YACMT,GACL,EAEA,CAET,C,wZCrFA,SAAStB,EAAqBgC,GAC7B,IAAIC,EAAO,GACPC,EAAW,iEACf,IAAK,IAAIC,EAAI,EAAGA,EAAIH,EAAQG,IAC3BF,GAAQC,EAASE,OAAOC,KAAKC,MAAMD,KAAKE,SAAWL,EAASF,SAE7D,OAAOC,CACR,CAEA5B,eAAemC,EAAiBC,GAC/B,IACC,IAAIC,EAcN,WACC,IACIC,EADAD,EAAa,CAAC,EACXE,EAAI,uBACVC,EAAIlD,OAAOC,SAASkD,KAAKC,UAAU,GACpCL,EAAqB,SAAI/C,OAAOC,SAASkD,KACzC,KAAOH,EAAIC,EAAEI,KAAKH,IACjBH,EAAWC,EAAE,IAAMM,mBAAmBN,EAAE,IAEzC,OAAOD,CACR,CAvBmBQ,GACjB,MAA4B,KAAxBR,EAAWS,UACdxD,OAAOyD,QAAQC,aAAa,CAAC,EAAGC,SAASC,MAAOd,GAChDC,EAAWc,WAAaC,KAAKC,MAA2C,IAAlCC,SAASjB,EAAWkB,mBACnDlB,EAAWkB,WACXlB,GAED,CAAC,CAIT,CAHE,MAAOmB,GAER,OADAxE,QAAQvC,MAAM+G,EAAIxH,SACX,CAAC,CACT,CACD,CAaA,SAAS+C,EAAiBG,QAAK,IAALA,IAAAA,OAAQuE,GACjC,IAAIC,EAAS,IAAIN,KAAKE,SAAS7E,eAAeoB,QAAQ,gBACtD,QAC0C,OAAzCpB,eAAeoB,QAAQ,eACmB,OAA1CpB,eAAeoB,QAAQ,gBACD,iBAAtB6D,EAAOC,YACPP,KAAKC,MAAQK,KAETxE,GACHE,cAAcF,IAER,EAIT,CAEA,SAAS0E,EAAeC,EAAQC,GAC/B,OAAID,EAAOE,WAAaD,EAAOC,YAAsB,EACjDF,EAAOE,WAAaD,EAAOC,WAAqB,EAE7CF,EAAOG,KAAOF,EAAOE,MAAQ,EAAIH,EAAOG,KAAOF,EAAOE,IAC9D,CAwCA,SAASC,EAAaC,GACrB,IAAiCC,EAA7BC,EAAeF,EAAMvC,OAEzB,KAAwB,IAAjByC,GAEND,EAAcnC,KAAKC,MAAMD,KAAKE,SAAWkC,GACzCA,KAECF,EAAME,GAAeF,EAAMC,IAAgB,CAC3CD,EAAMC,GAAcD,EAAME,IAE5B,OAAOF,CACR,CAEA,SAASG,EAAuBC,GAC/B,IAAIC,EAAU,EACVC,EAAI,EACR,KAAOD,GAAWD,GACjBC,EAAU,IAAMC,EAAI,GACpBA,IAED,OAAOD,CACR,CAEA,SAASE,EAAsBH,GAC9B,IAAII,EAAO,EACPH,EAAU,EACVC,EAAI,EACR,KAAOD,GAAWD,GACjBI,EAAOH,EACPA,EAAU,IAAMC,EAAI,GACpBA,IAED,OAAOE,CACR,CAEA,SAASC,EAAcC,EAAGC,GACzB,MAAMC,EAASF,EAAE,GACXG,EAASF,EAAE,GAOjB,GAAoB,MAAhBC,EAAOE,MAAgC,MAAhBD,EAAOC,KACjC,OAAQ,EACF,GAAoB,MAAhBF,EAAOE,MAAgC,MAAhBD,EAAOC,KACxC,OAAO,EACD,GAAoB,MAAhBF,EAAOE,MAAgC,MAAhBD,EAAOC,KACxC,OAAIF,EAAOG,IAAMF,EAAOE,KACf,EACEH,EAAOG,IAAMF,EAAOE,KAG1BH,EAAOI,MAAQH,EAAOG,MAFnB,EAIIJ,EAAOI,MAAQH,EAAOG,OACxB,EAED,EAGH,GAAoB,MAAhBJ,EAAOE,MAAgC,MAAhBD,EAAOC,KACxC,OAAIF,EAAOG,IAAMF,EAAOE,IAChB,EACGH,EAAOG,IAAMF,EAAOE,KACtB,EAEJH,EAAOI,MAAQH,EAAOG,MAClB,EACGJ,EAAOI,MAAQH,EAAOG,OACxB,EAED,EAIT,MAAM,IAAIC,MAAM,oCAAsCL,EAAOE,KAAO,OAASD,EAAOC,KAEtF,CAEA,SAASI,EAAYC,EAAM9E,EAAoBb,QAAd,IAANa,IAAAA,OAASkD,QAAgB,IAAL/D,IAAAA,EAAQ,CAAC,GACvDV,QAAQC,IAAI,oBAAsBoG,IAElC7G,EAAAA,EAAAA,UAAS,UAAY+B,IAAkBrC,EAAAA,EAAAA,MAAcL,IAAM,YAAcwH,EAAM,CAAE3F,MAAOA,GACzF,C,gIC3LAM,eAAesF,EAAmBvH,EAAKoC,GACtC,IAAIpB,EAAAA,EAAAA,MAAoB,CACnBoB,IACHpC,EAAMA,EAAM,IAAM,IAAI0C,gBAAgBN,IAEvC,MAAMa,QAAiBF,MAAM/C,EAAK,CACjCsC,QAAS,CACR,eAAgB,mBAChB,cAAiB,UAAY5B,eAAeoB,QAAQ,kBAItD,OAAImB,EAASC,GACLD,EAASE,OAET,CAET,CACC,OAAO,CAET,CAmEAlB,eAAe9B,EAAYqC,QAAM,IAANA,IAAAA,OAASkD,GACnC,IAAI1F,EAAM,gCACNwC,IACHxC,EAAM,oCAAsCwC,GAE7C,MAAMS,QAAiBsE,EAAmBvH,GAC1C,OAAiB,IAAbiD,GAC4B,IAA3BA,EAASlD,OAAO6D,QACnBX,EAASlD,OAAOyH,KAAK,CACpBxH,IAAKC,EAAAA,IAGAgD,GAEA,CAET,CAEAhB,eAAewF,EAAcjF,GAE5B,OAAIA,WADsBrC,KACCL,EAK5B,C,uBCpHA,IAAe,IAA0B,+D","sources":["webpack://beat-bracket/./src/components/Alert.jsx","webpack://beat-bracket/./src/components/AuthBanner.jsx","webpack://beat-bracket/./src/components/ProfileDropdown.jsx","webpack://beat-bracket/./src/components/NavBar.jsx","webpack://beat-bracket/./src/components/Layout.jsx","webpack://beat-bracket/./src/components/LoadingIndicator.jsx","webpack://beat-bracket/./src/assets/images/Spotify_Logo_RGB_Green.png","webpack://beat-bracket/./src/components/LoginButton.jsx","webpack://beat-bracket/./src/utilities/backend.js","webpack://beat-bracket/./src/utilities/helpers.js","webpack://beat-bracket/./src/utilities/spotify.js","webpack://beat-bracket/./src/assets/images/guestProfileImage.png"],"sourcesContent":["import React from \"react\";\n\nconst Alert = ({ show, close, message, type }) => {\n  const alertTypes = {\n    info: {\n      styles: \"bg-blue-100 text-blue-700\",\n      icon: (\n        <path\n          fill=\"currentColor\"\n          d=\"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z\"\n        ></path>\n      ),\n    },\n    success: {\n      styles: \"bg-green-100 text-green-700\",\n      icon: (\n        <path\n          fill=\"currentColor\"\n          d=\"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z\"\n        ></path>\n      ),\n    },\n    error: {\n      styles: \"bg-red-100 text-red-700\",\n      icon: (\n        <path\n          fill=\"currentColor\"\n          d=\"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z\"\n        ></path>\n      ),\n    },\n    warning: {\n      styles: \"bg-yellow-100 text-yellow-700\",\n      icon: (\n        <path\n          fill=\"currentColor\"\n          d=\"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z\"\n        ></path>\n      ),\n    },\n  };\n\n  return (\n    <div className=\"sticky left-[100%] top-0 h-0 w-fit z-30\" role=\"alert\">\n      <div\n        className={\n          \"w-fit h-fit rounded-lg text-sm p-4 \" +\n          (alertTypes[type] ? alertTypes[type].styles : \"\") +\n          \" \" +\n          (show ? \"flex\" : \"hidden\")\n        }\n      >\n        <svg\n          aria-hidden=\"true\"\n          focusable=\"false\"\n          data-icon=\"check-circle\"\n          className=\"w-5 h-5 mr-3 fill-current flex-shrink-0 inline\"\n          role=\"img\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 512 512\"\n        >\n          {alertTypes[type] ? alertTypes[type].icon : null}\n        </svg>\n        <span className=\"sr-only\">Info</span>\n        <div>\n          <span className=\"font-bold mr-1 whitespace-nowrap\">{message}</span>\n        </div>\n        {/* <button onClick={() => close()}>✖</button> */}\n        <button\n          type=\"button\"\n          className={\n            (alertTypes[type] ? alertTypes[type].styles + \" \" : \"\") +\n            \"ml-auto -mx-1.5 -my-1.5 border-none !text-black rounded-lg focus:ring-2 focus:ring-blue-400 p-1.5 hover:!text-current hover:bg-transparent inline-flex h-8 w-8\"\n          }\n          aria-label=\"Close\"\n          onClick={() => close()}\n        >\n          <span className=\"sr-only\">Close</span>\n          <svg\n            aria-hidden=\"true\"\n            className=\"w-5 h-5\"\n            fill=\"currentColor\"\n            viewBox=\"0 0 20 20\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <path\n              fillRule=\"evenodd\"\n              d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\"\n              clipRule=\"evenodd\"\n            ></path>\n          </svg>\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default Alert;\n","import React from \"react\";\n\nimport LoginButton from \"./LoginButton\";\n\nconst AuthBanner = ({ show }) => {\n  return (\n    <div hidden={!show}>\n      <div className=\"bg-orange-400 text-black font-bold text-center width-full overflow-x-hidden py-1 flex justify-center\">\n        <div className=\"flex flex-col items-center gap-1\">\n          You are not logged in! In order to get tracks from Spotify you need to\n          be authenticated\n          <LoginButton />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AuthBanner;\n","import { navigate } from \"gatsby\";\nimport React, { useEffect, useState } from \"react\";\nimport guestProfileImage from \"../assets/images/guestProfileImage.png\";\nimport { getUserInfo } from \"../utilities/spotify\";\nimport LoginButton from \"./LoginButton\";\n\nconst ProfileDropdown = ({ loggedIn, noChanges }) => {\n  const [showDropdown, setShowDropdown] = useState(false);\n  const [shownUserInfo, setShownUserInfo] = useState({\n    display_name: \"Guest\",\n    id: \"\",\n    images: [\n      {\n        url: guestProfileImage,\n      },\n    ],\n  });\n\n  function handleNaviagtionAttempt(path) {\n    if (noChanges(true)) {\n      navigate(path);\n    }\n  }\n\n  function signOut() {\n    if (noChanges(true)) {\n      setShowDropdown(false);\n      sessionStorage.clear();\n      localStorage.setItem(\"rememberMe\", false);\n      navigate(\"/\");\n    }\n  }\n\n  function navProfile() {\n    setShowDropdown(false);\n    handleNaviagtionAttempt(\"/my-brackets\");\n  }\n\n  useEffect(() => {\n    if (loggedIn) {\n      getUserInfo().then((userInfo) => {\n        if (userInfo !== 1) {\n          setShownUserInfo(userInfo);\n        } else {\n          setShownUserInfo({\n            display_name: \"Guest\",\n            id: \"\",\n            images: [\n              {\n                url: guestProfileImage,\n              },\n            ],\n          });\n        }\n      });\n    } else {\n      setShownUserInfo({\n        display_name: \"Guest\",\n        id: \"\",\n        images: [\n          {\n            url: guestProfileImage,\n          },\n        ],\n      });\n    }\n  }, [loggedIn]);\n\n  return (\n    <div>\n      {!loggedIn ? (\n        <div className=\"border rounded\">\n          <LoginButton />\n        </div>\n      ) : (\n        <div className=\"inline-block relative\">\n          <button\n            type=\"button\"\n            className=\"flex items-center rounded-lg transition group shrink-0 border-0 hover:bg-transparent px-0\"\n            id=\"menu-button\"\n            aria-expanded=\"true\"\n            aria-haspopup=\"true\"\n            data-dropdown-toggle=\"dropdownNavbar\"\n            onClick={() => {\n              if (loggedIn) {\n                setShowDropdown(!showDropdown);\n              }\n            }}\n          >\n            <img\n              className=\"object-cover w-10 h-10 rounded-full\"\n              src={shownUserInfo.images[0].url}\n              alt={shownUserInfo.display_name}\n            />\n            <p className=\"hidden ml-2 text-left sm:block\">\n              <strong className=\"block text-s font-bold text-white\">\n                {shownUserInfo.display_name}\n              </strong>\n              <span className=\"text-gray-300 text-xs transition sm:block group-hover:text-white\">\n                {shownUserInfo.id}\n              </span>\n            </p>\n            <div hidden={!loggedIn}>\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                className=\"w-5 h-5 ml-4 text-gray-300 transition sm:block group-hover:text-white\"\n                viewBox=\"0 0 20 20\"\n                fill=\"currentColor\"\n              >\n                <path\n                  fillRule=\"evenodd\"\n                  d=\"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\"\n                  clipRule=\"evenodd\"\n                />\n              </svg>\n            </div>\n          </button>\n          <ul\n            id=\"dropdownNavbar\"\n            className=\"absolute right-0 bg-white text-base z-10 list-none divide-y divide-gray-100 rounded shadow w-full cursor-pointer min-w-fit\"\n            aria-labelledby=\"dropdownDefault\"\n            hidden={!showDropdown}\n          >\n            {/* <li>\n          <button className=\"py-2 px-4 items-center whitespace-nowrap flex gap-1 group-hover:bg-gray-200 border-0 w-full group\">\n            My Brackets\n          </button>\n        </li> */}\n            <li>\n              <button\n                onClick={navProfile}\n                className=\"py-2 px-4 items-center whitespace-nowrap flex gap-1 group-hover:bg-gray-200 border-0 w-full group\"\n              >\n                <span>My Brackets</span>\n              </button>\n              <button\n                onClick={signOut}\n                className=\"py-2 px-4 items-center rounded-t-none whitespace-nowrap flex gap-1 group-hover:bg-gray-200 border-0 w-full group\"\n              >\n                <span>Sign out</span>\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  className=\"w-4 h-4 text-secondary transition sm:block group-hover:text-secondary\"\n                  viewBox=\"0 0 24 24\"\n                  fill=\"currentColor\"\n                >\n                  <path d=\"M16 10v-5l8 7-8 7v-5h-8v-4h8zm-16-8v20h14v-2h-12v-16h12v-2h-14z\" />\n                </svg>\n              </button>\n            </li>\n          </ul>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ProfileDropdown;\n","import { navigate } from \"gatsby\";\nimport React from \"react\";\nimport ProfileDropdown from \"./ProfileDropdown\";\n\nconst NavBar = ({ loggedIn, noChanges }) => {\n  function handleNaviagtionAttempt() {\n    if (noChanges(true)) {\n      navigate(\"/\");\n    }\n  }\n  return (\n    <header className=\"bg-black mb-4\">\n      <div className=\"flex items-center h-14 px-4 mx-auto sm:px-6 lg:px-4 justify-between\">\n        <button\n          className=\"text-white text-2xl font-bold font-display bg-black border-0 hover:bg-black pl-0\"\n          onClick={handleNaviagtionAttempt}\n        >\n          Beat Bracket\n        </button>\n        <ProfileDropdown\n          loggedIn={loggedIn}\n          noChanges={noChanges}\n        />\n      </div>\n    </header>\n  );\n};\n\nexport default NavBar;\n","import React, { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport AuthBanner from \"../components/AuthBanner\";\nimport NavBar from \"./NavBar\";\nimport { checkSpotifyAuth } from \"../utilities/helpers\";\n\nconst Layout = ({ children, noChanges }) => {\n  const [loggedIn, setLoggedIn] = useState(true);\n\n  useEffect(() => {\n    if (checkSpotifyAuth()) {\n      console.log(\"logged in\");\n      setLoggedIn(true);\n    } else {\n      setLoggedIn(false);\n    }\n    const timer = setInterval(() => {\n      if (checkSpotifyAuth(timer)) {\n        setLoggedIn(true);\n      } else {\n        setLoggedIn(false);\n      }\n    }, 1000);\n    return () => clearInterval(timer);\n  }, []);\n\n  return (\n    <main className=\"font-sans text-black min-h-screen bg-zinc-300 relative text-center\">\n      {/* <div className=\"fixed w-full h-full top-0 left-0 bg-repeat bg-scroll bg-slate-900 bg-colosseum bg-blend-screen bg-cover opacity-40 -z-10\"></div> */}\n      <AuthBanner show={false} />\n      <NavBar loggedIn={loggedIn} noChanges={noChanges} />\n      {children}\n      <div>© Cooper Garren 2023</div>\n    </main>\n  );\n};\n\nexport default Layout;\n","import React from \"react\";\n\nconst LoadingIndicator = ({ hidden, loadingText }) => {\n  return (\n    <div\n      className={\n        (hidden ? \"hidden \" : \"\") +\n        \"font-bold text-xl text-center align-middle flex flex-row items-center justify-center h-full w-full\"\n      }\n    >\n      <svg\n        className=\"inline mr-1 w-6 h-6 text-black animate-spin fill-white\"\n        viewBox=\"0 0 100 101\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <path\n          d=\"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z\"\n          fill=\"currentColor\"\n        />\n        <path\n          d=\"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z\"\n          fill=\"currentFill\"\n        />\n      </svg>\n      <span>{loadingText}</span>\n    </div>\n  );\n};\n\nexport default LoadingIndicator;\n","export default __webpack_public_path__ + \"static/Spotify_Logo_RGB_Green-0c4ae91bae23217d39c97c322a80e1fc.png\";","import React from \"react\";\n\nimport { generateRandomString } from \"../utilities/helpers\";\n\nimport spotifyLogo from \"../assets/images/Spotify_Logo_RGB_Green.png\";\n\nconst LoginButton = () => {\n  function login() {\n    const stateKey = \"spotify_auth_state\";\n    const client_id = \"fff2634975884bf88e3d3c9c2d77763d\"; // Your client id\n    //let redirect_uri = 'https://spotifydata.com/songdata'; // Your redirect uri\n    console.log(window.location);\n    const redirect_uri = window.location.origin + \"/my-brackets\"; // Your redirect uri\n\n    const state = generateRandomString(16);\n\n    const show_dialog =\n      localStorage.getItem(\"rememberMe\") === \"true\" ? false : true;\n\n    sessionStorage.setItem(stateKey, state);\n    const scope =\n      \"playlist-modify-private playlist-modify-public user-read-private\";\n\n    let url = \"https://accounts.spotify.com/authorize\";\n    url += \"?response_type=token\";\n    url += \"&client_id=\" + encodeURIComponent(client_id);\n    url += \"&scope=\" + encodeURIComponent(scope);\n    url += \"&redirect_uri=\" + encodeURIComponent(redirect_uri);\n    url += \"&state=\" + encodeURIComponent(state);\n    url += \"&show_dialog=\" + encodeURIComponent(show_dialog);\n\n    localStorage.setItem(\"rememberMe\", true);\n    window.location = url;\n  }\n\n  return (\n    <button\n      onClick={login}\n      className=\"bg-black hover:bg-zinc-800 text-white border-black hover:border-zinc-800 inline-flex flex-row items-center justify-center\"\n    >\n      <span>Login with&nbsp;</span>\n      <img src={spotifyLogo} alt=\"Spotify\" className=\"h-6 text-white\"></img>\n    </button>\n  );\n};\n\nexport default LoginButton;\n","// const schema = [\n// \t{\n// \t\t\"id\": 0,\n// \t\t\"userId\": 6,\n// \t\t\"artistId\": \"test\",\n// \t\t\"artistName\": \"Kanye West\",\n// \t\t\"tracks\": 64,\n// \t\t\"seeding\": \"popularity\",\n// \t\t\"lastModifiedDate\": 3948230948,\n// \t\t\"completed\": false,\n// \t\t\"bracketData\": \"some data\",\n// \t},\n\nasync function loadBackendRequest(path, method, params = { userId: sessionStorage.getItem(\"userId\"), sessionId: sessionStorage.getItem(\"sessionId\") }, data, headers = {}, credentials) {\n\tlet url = \"https://hsadrgb5uxnxfsswuxpcdrfblq0cydjv.lambda-url.us-east-2.on.aws\" + path\n\tif (params) {\n\t\turl = url + \"?\" + new URLSearchParams(params);\n\t}\n\tlet requestOptions = {\n\t\tmethod: method,\n\t\theaders: headers,\n\t}\n\tif (credentials) {\n\t\trequestOptions.credentials = credentials;\n\t}\n\tif (data) {\n\t\trequestOptions.body = JSON.stringify(data);\n\t}\n\tconst response = await fetch(url, requestOptions);\n\n\treturn response; // parses JSON response into native JavaScript objects\n}\n\nasync function getBrackets() {\n\tconst response = await loadBackendRequest(\"/items\", \"GET\");\n\tif (response.ok) {\n\t\treturn response.json();\n\t} else {\n\t\treturn 1;\n\t}\n}\n\nasync function getBracket(id, userId) {\n\tconst response = await loadBackendRequest(\"/item\", \"GET\", { id: id, userId: userId });\n\tif (response.ok) {\n\t\treturn response.json();\n\t} else if (response.status === 404) {\n\t\treturn null\n\t} else {\n\t\treturn 1;\n\t}\n}\n\nasync function writeBracket(bracket) {\n\tconsole.log(bracket);\n\tconst response = await loadBackendRequest(\"/item\", \"PUT\", { sessionId: sessionStorage.getItem(\"sessionId\") }, bracket);\n\tif (response.ok) {\n\t\treturn 0;\n\t} else {\n\t\treturn 1;\n\t}\n}\n\nasync function updateBracket(id, artistName, artistId, tracks, seeding) {\n\tawait new Promise(resolve => setTimeout(resolve, 5000)); //simulate network loading\n\tconst updatedBracket = { id: id, artistName: artistName, artistId: artistId, tracks: tracks, seeding: seeding, lastModified: Date.now(), complete: false };\n\treturn updatedBracket;\n}\n\nasync function deleteBracket(id, userId) {\n\tconst response = await loadBackendRequest(\"/item\", \"DELETE\", { id: id, userId: sessionStorage.getItem(\"userId\"), sessionId: sessionStorage.getItem(\"sessionId\") });\n\tif (response.ok) {\n\t\treturn 0;\n\t} else if (response.status === 404) {\n\t\treturn null\n\t} else {\n\t\treturn 1;\n\t}\n}\n\nasync function authenticate(userId, sessionId, expireTime, accessToken) {\n\tconst response = await loadBackendRequest(\"/auth\", \"POST\", null, {\n\t\tuserId: userId,\n\t\tsessionId: sessionId,\n\t\texpireTime: expireTime,\n\t\taccessToken: accessToken\n\t}, {}, 'include');\n\tif (response.ok) {\n\t\treturn 0;\n\t} else {\n\t\treturn 1;\n\t}\n}\n\nexport { getBrackets, getBracket, writeBracket, deleteBracket, authenticate };","// Screnshot library\nimport html2canvas from \"html2canvas\";\n\nimport { navigate } from \"gatsby\";\n\nimport { getUserInfo } from \"./spotify\";\n\nfunction generateRandomString(length) {\n\tlet text = '';\n\tlet possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n\tfor (let i = 0; i < length; i++) {\n\t\ttext += possible.charAt(Math.floor(Math.random() * possible.length));\n\t}\n\treturn text;\n}\n\nasync function getParamsFromURL(new_url) {\n\ttry {\n\t\tlet hashParams = getHashParams()\n\t\tif (hashParams.raw_hash !== '') {\n\t\t\twindow.history.replaceState({}, document.title, new_url);\n\t\t\thashParams.expires_at = Date.now() + (parseInt(hashParams.expires_in) * 1000);\n\t\t\tdelete hashParams.expires_in;\n\t\t\treturn hashParams;\n\t\t}\n\t\treturn {};\n\t} catch (err) {\n\t\tconsole.error(err.message);\n\t\treturn {};\n\t}\n}\n\nfunction getHashParams() {\n\tlet hashParams = {};\n\tlet e, r = /([^&;=]+)=?([^&;]*)/g,\n\t\tq = window.location.hash.substring(1);\n\thashParams['raw_hash'] = window.location.hash;\n\twhile (e = r.exec(q)) {\n\t\thashParams[e[1]] = decodeURIComponent(e[2]);\n\t}\n\treturn hashParams;\n}\n\nfunction checkSpotifyAuth(timer = undefined) {\n\tlet mydate = new Date(parseInt(sessionStorage.getItem(\"expireTime\")));\n\tif (\n\t\tsessionStorage.getItem(\"expireTime\") === null ||\n\t\tsessionStorage.getItem(\"accessToken\") === null ||\n\t\tmydate.toString() === \"Invalid Date\" ||\n\t\tDate.now() > mydate\n\t) {\n\t\tif (timer) {\n\t\t\tclearInterval(timer);\n\t\t}\n\t\treturn false;\n\t} else {\n\t\treturn true;\n\t}\n}\n\nfunction popularitySort(track1, track2) {\n\tif (track1.popularity > track2.popularity) { return -1 };\n\tif (track1.popularity < track2.popularity) { return 1 };\n\t// sort alphabetically for consistency if popularity is the same\n\treturn track1.name < track2.name ? -1 : track1.name > track2.name;\n}\n\nfunction switchEveryOther(array) {\n\tfor (let i = 1; i < array.length / 2; i += 2) {\n\t\tif (i % 2 !== 0) {\n\t\t\t//console.log(\"switching\", array[array.length - i].name, \"AND\", array[i].name);\n\t\t\tlet temp = array[i];\n\t\t\tarray[i] = array[array.length - i];\n\t\t\tarray[array.length - i] = temp;\n\t\t}\n\t}\n\treturn array;\n}\n\n// removes duplicates in an array of objects if a certain key/value is repeated\nfunction removeDuplicatesWithKey(theArray, key) {\n\tconsole.log(theArray);\n\t// init tracking array\n\tlet tempArray = [];\n\t//loop through given array\n\tfor (let index in theArray) {\n\t\tif (theArray[index][key] === \"Jail\") {\n\t\t\tconsole.log(tempArray);\n\t\t\tconsole.log(index);\n\t\t}\n\t\t//check to see if element at the key is already in tracking array\n\t\tif (tempArray.includes(theArray[index][key])) {\n\t\t\tconsole.log(theArray[index][key])\n\t\t\t// remove element at the current position from the array\n\t\t\ttheArray.splice(index, 1);\n\t\t\t// deincrement our position to account for the ddeleted item\n\t\t\tindex--;\n\t\t} else {\n\t\t\t// add element to our tracking array\n\t\t\ttempArray.push(theArray[index][key]);\n\t\t}\n\t}\n\treturn theArray;\n}\n\nfunction shuffleArray(array) {\n\tlet currentIndex = array.length, randomIndex;\n\t// While there remain elements to shuffle.\n\twhile (currentIndex !== 0) {\n\t\t// Pick a remaining element.\n\t\trandomIndex = Math.floor(Math.random() * currentIndex);\n\t\tcurrentIndex--;\n\t\t// And swap it with the current element.\n\t\t[array[currentIndex], array[randomIndex]] = [\n\t\t\tarray[randomIndex], array[currentIndex]];\n\t}\n\treturn array;\n}\n\nfunction nearestGreaterPowerOf2(num) {\n\tlet current = 0;\n\tlet j = 0;\n\twhile (current <= num) {\n\t\tcurrent = 2 ** (j + 1);\n\t\tj++;\n\t}\n\treturn current;\n}\n\nfunction nearestLesserPowerOf2(num) {\n\tlet last = 0;\n\tlet current = 0;\n\tlet j = 0;\n\twhile (current <= num) {\n\t\tlast = current\n\t\tcurrent = 2 ** (j + 1);\n\t\tj++;\n\t}\n\treturn last;\n}\n\nfunction bracketSorter(a, b) {\n\tconst value1 = a[1];\n\tconst value2 = b[1];\n\n\t// r > l\n\t// for r, sort col increasing\n\t// for l, sort col decreasing\n\t// always sort row increasing\n\n\tif (value1.side === \"r\" && value2.side === \"l\") {\n\t\treturn -1;\n\t} else if (value1.side === \"l\" && value2.side === \"r\") {\n\t\treturn 1;\n\t} else if (value1.side === \"l\" && value2.side === \"l\") {\n\t\tif (value1.col > value2.col) {\n\t\t\treturn -1;\n\t\t} else if (value1.col < value2.col) {\n\t\t\treturn 1;\n\t\t} else {\n\t\t\tif (value1.index > value2.index) {\n\t\t\t\treturn 1;\n\t\t\t} else if (value1.index < value2.index) {\n\t\t\t\treturn -1;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t} else if (value1.side === \"r\" && value2.side === \"r\") {\n\t\tif (value1.col > value2.col) {\n\t\t\treturn 1;\n\t\t} else if (value1.col < value2.col) {\n\t\t\treturn -1;\n\t\t} else {\n\t\t\tif (value1.index > value2.index) {\n\t\t\t\treturn 1;\n\t\t\t} else if (value1.index < value2.index) {\n\t\t\t\treturn -1;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t} else {\n\t\tthrow new Error(\"Found bracket with invalid side: \" + value1.side + \" or \" + value2.side);\n\t}\n}\n\nfunction openBracket(uuid, userId = undefined, state = {}) {\n\tconsole.log(\"Opening Bracket: \" + uuid);\n\t//open the bracket editor and pass the bracket id off\n\tnavigate(\"/user/\" + (userId ? userId : getUserInfo().id) + \"/bracket/\" + uuid, { state: state });\n}\n\nfunction downloadBracket(bracketId, artistName) {\n\tlet bracketEl = document.getElementById(bracketId);\n\thtml2canvas(bracketEl, {\n\t\tscale: 4,\n\t\tscrollX: -bracketEl.offsetLeft,\n\t\tscrollY: -bracketEl.offsetTop,\n\t\tlogging: false,\n\t}).then(function (canvas) {\n\t\t//canvas = document.body.appendChild(canvas); // used for debugging\n\t\t//console.log(canvas.width, canvas.height);\n\t\tlet ctx = canvas.getContext(\"2d\");\n\t\tctx.textAlign = \"center\";\n\t\tctx.textBaseline = \"middle\";\n\t\tctx.fillStyle = \"black\";\n\t\tctx.font = \"bold 30px sans-serif\";\n\t\tctx.fillText(artistName, canvas.width / 8, canvas.height / 16, 225);\n\t\tctx.font = \"8px sans-serif\";\n\t\tctx.fillText(\n\t\t\t\"Bracket made at cgarren.github.io/song-coliseum\",\n\t\t\tcanvas.width / 8,\n\t\t\tcanvas.height / 16 + 20,\n\t\t\t225\n\t\t);\n\t\tconst createEl = document.createElement(\"a\");\n\t\tcreateEl.href = canvas.toDataURL(\"image/svg+xml\");\n\t\tcreateEl.download = artistName + \" bracket from Song Coliseum\";\n\t\tcreateEl.click();\n\t\tcreateEl.remove();\n\t});\n}\n\nexport {\n\tpopularitySort,\n\tremoveDuplicatesWithKey,\n\tnearestGreaterPowerOf2,\n\tnearestLesserPowerOf2,\n\tswitchEveryOther,\n\tshuffleArray,\n\tgetParamsFromURL,\n\tgenerateRandomString,\n\tdownloadBracket,\n\topenBracket,\n\tbracketSorter,\n\tcheckSpotifyAuth\n}","// Guest profile pic\nimport guestProfileImage from \"../assets/images/guestProfileImage.png\";\nimport { checkSpotifyAuth } from \"./helpers\";\n\nasync function loadSpotifyRequest(url, params) {\n\tif (checkSpotifyAuth()) {\n\t\tif (params) {\n\t\t\turl = url + \"?\" + new URLSearchParams(params);\n\t\t}\n\t\tconst response = await fetch(url, {\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'Authorization': 'Bearer ' + sessionStorage.getItem('accessToken')\n\t\t\t}\n\t\t});\n\n\t\tif (response.ok) {\n\t\t\treturn response.json(); // parses JSON response into native JavaScript objects\n\t\t} else {\n\t\t\treturn 1;\n\t\t}\n\t} else {\n\t\treturn 1;\n\t}\n}\n\nasync function postRequest(url, params, data) {\n\tif (params) {\n\t\turl = url + \"?\" + new URLSearchParams(params);\n\t}\n\tconst response = await fetch(url, {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\t'Content-Type': 'application/json',\n\t\t\t'Authorization': 'Bearer ' + sessionStorage.getItem('accessToken')\n\t\t},\n\t\tbody: JSON.stringify(data)\n\t});\n\n\tif (response.ok) {\n\t\treturn response.json(); // parses JSON response into native JavaScript objects\n\t} else if (response.status === 429) {\n\t\tthrow new Error(\"Too many requests. Code: \" + response.status);\n\t} else {\n\t\tthrow new Error(\"Unknown request error. Code: \" + response.status);\n\t}\n}\n\nasync function putRequest(url, params, data) {\n\tif (params) {\n\t\turl = url + \"?\" + new URLSearchParams(params);\n\t}\n\tconst response = await fetch(url, {\n\t\tmethod: 'PUT',\n\t\theaders: {\n\t\t\t'Content-Type': 'image/jpeg',\n\t\t\t'Authorization': 'Bearer ' + sessionStorage.getItem('accessToken')\n\t\t},\n\t\t///body: data\n\t});\n\n\tif (response.ok) {\n\t\treturn response.json(); // parses JSON response into native JavaScript objects\n\t} else if (response.status === 429) {\n\t\tthrow new Error(\"Too many requests. Code: \" + response.status);\n\t} else {\n\t\tthrow new Error(\"Unknown request error. Code: \" + response.status);\n\t}\n}\n\nasync function createPlaylist(name = \"New Playlist\", description = \"\", isPublic = true, isCollaborative = false) {\n\tconst response = await loadSpotifyRequest(\"https://api.spotify.com/v1/me\");\n\tif (!response[\"error\"]) {\n\t\tconst url = \"https://api.spotify.com/v1/users/\" + response.id + \"/playlists\"\n\t\treturn await postRequest(url, {}, {\n\t\t\t\"name\": name,\n\t\t\t\"public\": isPublic,\n\t\t\t\"collaborative\": isCollaborative,\n\t\t\t\"description\": description\n\t\t})\n\t}\n\treturn response;\n}\n\nasync function addTracksToPlaylist(playlistId, trackUris) {\n\tconst url = \"https://api.spotify.com/v1/playlists/\" + playlistId + \"/tracks\"\n\treturn await postRequest(url, {\n\t\t\"uris\": trackUris\n\t})\n}\n\nasync function getUserInfo(userId = undefined) {\n\tlet url = \"https://api.spotify.com/v1/me\";\n\tif (userId) {\n\t\turl = \"https://api.spotify.com/v1/users/\" + userId;\n\t}\n\tconst response = await loadSpotifyRequest(url);\n\tif (response !== 1) {\n\t\tif (response.images.length === 0) {\n\t\t\tresponse.images.push({\n\t\t\t\turl: guestProfileImage,\n\t\t\t});\n\t\t}\n\t\treturn response;\n\t} else {\n\t\treturn 1;\n\t}\n}\n\nasync function isCurrentUser(userId) {\n\tconst currentUser = await getUserInfo();\n\tif (userId === currentUser.id) {\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n}\n\nexport {\n\tloadSpotifyRequest,\n\tpostRequest,\n\tputRequest,\n\taddTracksToPlaylist,\n\tcreatePlaylist,\n\tgetUserInfo,\n\tisCurrentUser\n}","export default __webpack_public_path__ + \"static/guestProfileImage-56ea6ecf196675a29e7b5ffca974fde1.png\";"],"names":["show","close","message","type","alertTypes","info","styles","icon","fill","d","success","error","warning","className","role","focusable","xmlns","viewBox","onClick","fillRule","clipRule","hidden","LoginButton","loggedIn","noChanges","showDropdown","setShowDropdown","useState","shownUserInfo","setShownUserInfo","display_name","id","images","url","guestProfileImage","useEffect","getUserInfo","then","userInfo","src","alt","path","navigate","sessionStorage","clear","localStorage","setItem","children","setLoggedIn","checkSpotifyAuth","console","log","timer","setInterval","clearInterval","loadingText","window","location","redirect_uri","origin","state","generateRandomString","show_dialog","getItem","encodeURIComponent","spotifyLogo","async","loadBackendRequest","method","params","data","headers","credentials","userId","sessionId","URLSearchParams","requestOptions","body","JSON","stringify","fetch","getBrackets","response","ok","json","getBracket","status","writeBracket","bracket","deleteBracket","authenticate","expireTime","accessToken","length","text","possible","i","charAt","Math","floor","random","getParamsFromURL","new_url","hashParams","e","r","q","hash","substring","exec","decodeURIComponent","getHashParams","raw_hash","history","replaceState","document","title","expires_at","Date","now","parseInt","expires_in","err","undefined","mydate","toString","popularitySort","track1","track2","popularity","name","shuffleArray","array","randomIndex","currentIndex","nearestGreaterPowerOf2","num","current","j","nearestLesserPowerOf2","last","bracketSorter","a","b","value1","value2","side","col","index","Error","openBracket","uuid","loadSpotifyRequest","push","isCurrentUser"],"sourceRoot":""}