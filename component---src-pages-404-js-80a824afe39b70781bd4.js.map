{"version":3,"file":"component---src-pages-404-js-80a824afe39b70781bd4.js","mappings":"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","sources":["webpack://beatbracket/./src/components/AuthBanner.jsx","webpack://beatbracket/./src/components/ProfileDropdown.jsx","webpack://beatbracket/./src/components/NavBar.jsx","webpack://beatbracket/./src/components/Layout.jsx","webpack://beatbracket/./src/assets/images/Spotify_Logo_RGB_Green.png","webpack://beatbracket/./src/components/LoginButton.jsx","webpack://beatbracket/./src/pages/404.js","webpack://beatbracket/./src/utilities/helpers.js","webpack://beatbracket/./src/utilities/spotify.js","webpack://beatbracket/./src/assets/images/guestProfileImage.png"],"sourcesContent":["import React from \"react\";\n\nimport LoginButton from \"./LoginButton\";\n\nconst AuthBanner = ({ show }) => {\n  return (\n    <div hidden={!show}>\n      <div className=\"bg-orange-400 text-black font-bold text-center width-full overflow-x-hidden py-1 flex justify-center\">\n        <div className=\"flex flex-col items-center gap-1\">\n          You are not logged in! In order to get tracks from Spotify you need to\n          be authenticated\n          <LoginButton />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AuthBanner;\n","import { navigate } from \"gatsby\";\nimport React, { useEffect, useState } from \"react\";\nimport guestProfileImage from \"../assets/images/guestProfileImage.png\";\nimport { getUserInfo } from \"../utilities/spotify\";\nimport LoginButton from \"./LoginButton\";\n\nconst ProfileDropdown = ({ loggedIn, noChanges }) => {\n  const [showDropdown, setShowDropdown] = useState(false);\n  const [shownUserInfo, setShownUserInfo] = useState({\n    display_name: \"Guest\",\n    id: \"\",\n    images: [\n      {\n        url: guestProfileImage,\n      },\n    ],\n  });\n\n  function handleNaviagtionAttempt(path) {\n    if (noChanges(true)) {\n      navigate(path);\n    }\n  }\n\n  function signOut() {\n    if (noChanges(true)) {\n      setShowDropdown(false);\n      sessionStorage.clear();\n      localStorage.setItem(\"rememberMe\", false);\n      navigate(\"/\");\n    }\n  }\n\n  function navProfile() {\n    setShowDropdown(false);\n    handleNaviagtionAttempt(\"/my-brackets\");\n  }\n\n  useEffect(() => {\n    if (loggedIn) {\n      getUserInfo().then((userInfo) => {\n        if (userInfo !== 1) {\n          setShownUserInfo(userInfo);\n        } else {\n          setShownUserInfo({\n            display_name: \"Guest\",\n            id: \"\",\n            images: [\n              {\n                url: guestProfileImage,\n              },\n            ],\n          });\n        }\n      });\n    } else {\n      setShownUserInfo({\n        display_name: \"Guest\",\n        id: \"\",\n        images: [\n          {\n            url: guestProfileImage,\n          },\n        ],\n      });\n    }\n  }, [loggedIn]);\n\n  return (\n    <div>\n      {!loggedIn ? (\n        <div className=\"border rounded\">\n          <LoginButton />\n        </div>\n      ) : (\n        <div className=\"inline-block relative\">\n          <button\n            type=\"button\"\n            className=\"flex items-center rounded-lg transition group shrink-0 border-0 hover:bg-transparent px-0\"\n            id=\"menu-button\"\n            aria-expanded=\"true\"\n            aria-haspopup=\"true\"\n            data-dropdown-toggle=\"dropdownNavbar\"\n            onClick={() => {\n              if (loggedIn) {\n                setShowDropdown(!showDropdown);\n              }\n            }}\n          >\n            <img\n              className=\"object-cover w-10 h-10 rounded-full\"\n              src={shownUserInfo.images[0].url}\n              alt={shownUserInfo.display_name}\n            />\n            <p className=\"hidden ml-2 text-left sm:block\">\n              <strong className=\"block text-s font-bold text-white\">\n                {shownUserInfo.display_name}\n              </strong>\n              <span className=\"text-gray-300 text-xs transition sm:block group-hover:text-white\">\n                {shownUserInfo.id}\n              </span>\n            </p>\n            <div hidden={!loggedIn}>\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                className=\"w-5 h-5 ml-4 text-gray-300 transition sm:block group-hover:text-white\"\n                viewBox=\"0 0 20 20\"\n                fill=\"currentColor\"\n              >\n                <path\n                  fillRule=\"evenodd\"\n                  d=\"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\"\n                  clipRule=\"evenodd\"\n                />\n              </svg>\n            </div>\n          </button>\n          <ul\n            id=\"dropdownNavbar\"\n            className=\"absolute right-0 bg-white text-base z-10 list-none divide-y divide-gray-100 rounded shadow w-full cursor-pointer min-w-fit\"\n            aria-labelledby=\"dropdownDefault\"\n            hidden={!showDropdown}\n          >\n            {/* <li>\n          <button className=\"py-2 px-4 items-center whitespace-nowrap flex gap-1 group-hover:bg-gray-200 border-0 w-full group\">\n            My Brackets\n          </button>\n        </li> */}\n            <li>\n              <button\n                onClick={navProfile}\n                className=\"py-2 px-4 items-center whitespace-nowrap flex gap-1 group-hover:bg-gray-200 border-0 w-full group\"\n              >\n                <span>My Brackets</span>\n              </button>\n              <button\n                onClick={signOut}\n                className=\"py-2 px-4 items-center rounded-t-none whitespace-nowrap flex gap-1 group-hover:bg-gray-200 border-0 w-full group\"\n              >\n                <span>Sign out</span>\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  className=\"w-4 h-4 text-secondary transition sm:block group-hover:text-secondary\"\n                  viewBox=\"0 0 24 24\"\n                  fill=\"currentColor\"\n                >\n                  <path d=\"M16 10v-5l8 7-8 7v-5h-8v-4h8zm-16-8v20h14v-2h-12v-16h12v-2h-14z\" />\n                </svg>\n              </button>\n            </li>\n          </ul>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ProfileDropdown;\n","import { navigate } from \"gatsby\";\nimport React from \"react\";\nimport ProfileDropdown from \"./ProfileDropdown\";\n\nconst NavBar = ({ loggedIn, noChanges }) => {\n  function handleNaviagtionAttempt() {\n    if (noChanges(true)) {\n      navigate(\"/\");\n    }\n  }\n  return (\n    <header className=\"bg-black mb-4\">\n      <div className=\"flex items-center min-h-fit px-4 mx-auto sm:px-6 lg:px-4 justify-between\">\n        <button\n          className=\"text-white text-2xl font-bold font-display bg-black border-0 hover:bg-black pl-0\"\n          onClick={handleNaviagtionAttempt}\n        >\n          Beat Bracket\n        </button>\n        <ProfileDropdown loggedIn={loggedIn} noChanges={noChanges} />\n      </div>\n    </header>\n  );\n};\n\nexport default NavBar;\n","import React, { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport AuthBanner from \"../components/AuthBanner\";\nimport NavBar from \"./NavBar\";\nimport { checkSpotifyAuth } from \"../utilities/helpers\";\n\nconst Layout = ({ children, noChanges }) => {\n  const [loggedIn, setLoggedIn] = useState(true);\n\n  useEffect(() => {\n    if (checkSpotifyAuth()) {\n      console.log(\"logged in\");\n      setLoggedIn(true);\n    } else {\n      setLoggedIn(false);\n    }\n    const timer = setInterval(() => {\n      if (checkSpotifyAuth(timer)) {\n        setLoggedIn(true);\n      } else {\n        setLoggedIn(false);\n      }\n    }, 1000);\n    return () => clearInterval(timer);\n  }, []);\n\n  return (\n    <main className=\"font-sans text-black min-h-screen bg-zinc-300 relative text-center\">\n      {/* <div className=\"fixed w-full h-full top-0 left-0 bg-repeat bg-scroll bg-slate-900 bg-colosseum bg-blend-screen bg-cover opacity-40 -z-10\"></div> */}\n      <AuthBanner show={false} />\n      <NavBar loggedIn={loggedIn} noChanges={noChanges} />\n      {children}\n      <div>Â© Cooper Garren 2023</div>\n    </main>\n  );\n};\n\nexport default Layout;\n","export default __webpack_public_path__ + \"static/Spotify_Logo_RGB_Green-0c4ae91bae23217d39c97c322a80e1fc.png\";","import React from \"react\";\n\nimport { generateRandomString } from \"../utilities/helpers\";\n\nimport spotifyLogo from \"../assets/images/Spotify_Logo_RGB_Green.png\";\n\nconst LoginButton = () => {\n  function login() {\n    const stateKey = \"spotify_auth_state\";\n    const client_id = \"fff2634975884bf88e3d3c9c2d77763d\"; // Your client id\n    //let redirect_uri = 'https://spotifydata.com/songdata'; // Your redirect uri\n    console.log(window.location);\n    const redirect_uri = window.location.origin + \"/my-brackets\"; // Your redirect uri\n\n    const state = generateRandomString(16);\n\n    const show_dialog =\n      localStorage.getItem(\"rememberMe\") === \"true\" ? false : true;\n\n    sessionStorage.setItem(stateKey, state);\n    const scope =\n      \"playlist-modify-private playlist-modify-public user-read-private\";\n\n    let url = \"https://accounts.spotify.com/authorize\";\n    url += \"?response_type=token\";\n    url += \"&client_id=\" + encodeURIComponent(client_id);\n    url += \"&scope=\" + encodeURIComponent(scope);\n    url += \"&redirect_uri=\" + encodeURIComponent(redirect_uri);\n    url += \"&state=\" + encodeURIComponent(state);\n    url += \"&show_dialog=\" + encodeURIComponent(show_dialog);\n\n    localStorage.setItem(\"rememberMe\", true);\n    window.location = url;\n  }\n\n  return (\n    <button\n      onClick={login}\n      className=\"bg-black hover:bg-zinc-800 text-white border-black hover:border-zinc-800 inline-flex flex-row items-center justify-center\"\n    >\n      <span>Login with&nbsp;</span>\n      <img src={spotifyLogo} alt=\"Spotify\" className=\"h-6 text-white\"></img>\n    </button>\n  );\n};\n\nexport default LoginButton;\n","import * as React from \"react\"\nimport { Link } from \"gatsby\"\nimport Layout from \"../components/Layout\"\n\nconst NotFoundPage = () => {\n  return (\n    <Layout noChanges={true}>\n      <main className=\"text-center\">\n        <h1 className=\"font-bold text-2xl mb-2\">Page not found</h1>\n        <button class=\"border-black\"><Link to=\"/\">Go home</Link></button>\n      </main>\n    </Layout>\n  )\n}\n\nexport default NotFoundPage\n\nexport function Head() {\n  return (\n    <title>Page not found</title>\n  )\n}\n","// Screnshot library\nimport html2canvas from \"html2canvas\";\n\nimport { navigate } from \"gatsby\";\n\nimport { getUserInfo } from \"./spotify\";\n\nfunction generateRandomString(length) {\n\tlet text = '';\n\tlet possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n\tfor (let i = 0; i < length; i++) {\n\t\ttext += possible.charAt(Math.floor(Math.random() * possible.length));\n\t}\n\treturn text;\n}\n\nasync function getParamsFromURL(new_url) {\n\ttry {\n\t\tlet hashParams = getHashParams()\n\t\tif (hashParams.raw_hash !== '') {\n\t\t\twindow.history.replaceState({}, document.title, new_url);\n\t\t\thashParams.expires_at = Date.now() + (parseInt(hashParams.expires_in) * 1000);\n\t\t\tdelete hashParams.expires_in;\n\t\t\treturn hashParams;\n\t\t}\n\t\treturn {};\n\t} catch (err) {\n\t\tconsole.error(err.message);\n\t\treturn {};\n\t}\n}\n\nfunction getHashParams() {\n\tlet hashParams = {};\n\tlet e, r = /([^&;=]+)=?([^&;]*)/g,\n\t\tq = window.location.hash.substring(1);\n\thashParams['raw_hash'] = window.location.hash;\n\twhile (e = r.exec(q)) {\n\t\thashParams[e[1]] = decodeURIComponent(e[2]);\n\t}\n\treturn hashParams;\n}\n\nfunction checkSpotifyAuth(timer = undefined) {\n\tlet mydate = new Date(parseInt(sessionStorage.getItem(\"expireTime\")));\n\tif (\n\t\tsessionStorage.getItem(\"expireTime\") === null ||\n\t\tsessionStorage.getItem(\"accessToken\") === null ||\n\t\tmydate.toString() === \"Invalid Date\" ||\n\t\tDate.now() > mydate\n\t) {\n\t\tif (timer) {\n\t\t\tclearInterval(timer);\n\t\t}\n\t\treturn false;\n\t} else {\n\t\treturn true;\n\t}\n}\n\nfunction popularitySort(track1, track2) {\n\tif (track1.popularity > track2.popularity) { return -1 };\n\tif (track1.popularity < track2.popularity) { return 1 };\n\t// sort alphabetically for consistency if popularity is the same\n\treturn track1.name < track2.name ? -1 : track1.name > track2.name;\n}\n\nfunction switchEveryOther(array) {\n\tfor (let i = 1; i < array.length / 2; i += 2) {\n\t\tif (i % 2 !== 0) {\n\t\t\t//console.log(\"switching\", array[array.length - i].name, \"AND\", array[i].name);\n\t\t\tlet temp = array[i];\n\t\t\tarray[i] = array[array.length - i];\n\t\t\tarray[array.length - i] = temp;\n\t\t}\n\t}\n\treturn array;\n}\n\n// removes duplicates in an array of objects if a certain key/value is repeated\nfunction removeDuplicatesWithKey(theArray, key) {\n\tconsole.log(theArray);\n\t// init tracking array\n\tlet tempArray = [];\n\t//loop through given array\n\tfor (let index in theArray) {\n\t\tif (theArray[index][key] === \"Jail\") {\n\t\t\tconsole.log(tempArray);\n\t\t\tconsole.log(index);\n\t\t}\n\t\t//check to see if element at the key is already in tracking array\n\t\tif (tempArray.includes(theArray[index][key])) {\n\t\t\tconsole.log(theArray[index][key])\n\t\t\t// remove element at the current position from the array\n\t\t\ttheArray.splice(index, 1);\n\t\t\t// deincrement our position to account for the ddeleted item\n\t\t\tindex--;\n\t\t} else {\n\t\t\t// add element to our tracking array\n\t\t\ttempArray.push(theArray[index][key]);\n\t\t}\n\t}\n\treturn theArray;\n}\n\nfunction shuffleArray(array) {\n\tlet currentIndex = array.length, randomIndex;\n\t// While there remain elements to shuffle.\n\twhile (currentIndex !== 0) {\n\t\t// Pick a remaining element.\n\t\trandomIndex = Math.floor(Math.random() * currentIndex);\n\t\tcurrentIndex--;\n\t\t// And swap it with the current element.\n\t\t[array[currentIndex], array[randomIndex]] = [\n\t\t\tarray[randomIndex], array[currentIndex]];\n\t}\n\treturn array;\n}\n\nfunction nearestGreaterPowerOf2(num) {\n\tlet current = 0;\n\tlet j = 0;\n\twhile (current <= num) {\n\t\tcurrent = 2 ** (j + 1);\n\t\tj++;\n\t}\n\treturn current;\n}\n\nfunction nearestLesserPowerOf2(num) {\n\tlet last = 0;\n\tlet current = 0;\n\tlet j = 0;\n\twhile (current <= num) {\n\t\tlast = current\n\t\tcurrent = 2 ** (j + 1);\n\t\tj++;\n\t}\n\treturn last;\n}\n\nfunction bracketSorter(a, b) {\n\tconst value1 = a[1];\n\tconst value2 = b[1];\n\n\t// r > l\n\t// for r, sort col increasing\n\t// for l, sort col decreasing\n\t// always sort row increasing\n\n\tif (value1.side === \"r\" && value2.side === \"l\") {\n\t\treturn -1;\n\t} else if (value1.side === \"l\" && value2.side === \"r\") {\n\t\treturn 1;\n\t} else if (value1.side === \"l\" && value2.side === \"l\") {\n\t\tif (value1.col > value2.col) {\n\t\t\treturn -1;\n\t\t} else if (value1.col < value2.col) {\n\t\t\treturn 1;\n\t\t} else {\n\t\t\tif (value1.index > value2.index) {\n\t\t\t\treturn 1;\n\t\t\t} else if (value1.index < value2.index) {\n\t\t\t\treturn -1;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t} else if (value1.side === \"r\" && value2.side === \"r\") {\n\t\tif (value1.col > value2.col) {\n\t\t\treturn 1;\n\t\t} else if (value1.col < value2.col) {\n\t\t\treturn -1;\n\t\t} else {\n\t\t\tif (value1.index > value2.index) {\n\t\t\t\treturn 1;\n\t\t\t} else if (value1.index < value2.index) {\n\t\t\t\treturn -1;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t} else {\n\t\tthrow new Error(\"Found bracket with invalid side: \" + value1.side + \" or \" + value2.side);\n\t}\n}\n\nfunction openBracket(uuid, userId = undefined, state = {}) {\n\tconsole.log(\"Opening Bracket: \" + uuid);\n\t//open the bracket editor and pass the bracket id off\n\tnavigate(\"/user/\" + (userId ? userId : getUserInfo().id) + \"/bracket/\" + uuid, { state: state });\n}\n\nfunction downloadBracket(bracketId, artistName) {\n\tlet bracketEl = document.getElementById(bracketId);\n\thtml2canvas(bracketEl, {\n\t\tscale: 4,\n\t\tscrollX: -bracketEl.offsetLeft,\n\t\tscrollY: -bracketEl.offsetTop,\n\t\tlogging: false,\n\t}).then(function (canvas) {\n\t\t//canvas = document.body.appendChild(canvas); // used for debugging\n\t\t//console.log(canvas.width, canvas.height);\n\t\tlet ctx = canvas.getContext(\"2d\");\n\t\tctx.textAlign = \"center\";\n\t\tctx.textBaseline = \"middle\";\n\t\tctx.fillStyle = \"black\";\n\t\tctx.font = \"bold 30px sans-serif\";\n\t\tctx.fillText(artistName, canvas.width / 8, canvas.height / 16, 225);\n\t\tctx.font = \"8px sans-serif\";\n\t\tctx.fillText(\n\t\t\t\"Bracket made at cgarren.github.io/song-coliseum\",\n\t\t\tcanvas.width / 8,\n\t\t\tcanvas.height / 16 + 20,\n\t\t\t225\n\t\t);\n\t\tconst createEl = document.createElement(\"a\");\n\t\tcreateEl.href = canvas.toDataURL(\"image/svg+xml\");\n\t\tcreateEl.download = artistName + \" bracket from Song Coliseum\";\n\t\tcreateEl.click();\n\t\tcreateEl.remove();\n\t});\n}\n\nexport {\n\tpopularitySort,\n\tremoveDuplicatesWithKey,\n\tnearestGreaterPowerOf2,\n\tnearestLesserPowerOf2,\n\tswitchEveryOther,\n\tshuffleArray,\n\tgetParamsFromURL,\n\tgenerateRandomString,\n\tdownloadBracket,\n\topenBracket,\n\tbracketSorter,\n\tcheckSpotifyAuth\n}","// Guest profile pic\nimport guestProfileImage from \"../assets/images/guestProfileImage.png\";\nimport { checkSpotifyAuth } from \"./helpers\";\n\nasync function loadSpotifyRequest(url, params) {\n\tif (checkSpotifyAuth()) {\n\t\tif (params) {\n\t\t\turl = url + \"?\" + new URLSearchParams(params);\n\t\t}\n\t\tconst response = await fetch(url, {\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'Authorization': 'Bearer ' + sessionStorage.getItem('accessToken')\n\t\t\t}\n\t\t});\n\n\t\tif (response.ok) {\n\t\t\treturn response.json(); // parses JSON response into native JavaScript objects\n\t\t} else {\n\t\t\treturn 1;\n\t\t}\n\t} else {\n\t\treturn 1;\n\t}\n}\n\nasync function postRequest(url, params, data) {\n\tif (params) {\n\t\turl = url + \"?\" + new URLSearchParams(params);\n\t}\n\tconst response = await fetch(url, {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\t'Content-Type': 'application/json',\n\t\t\t'Authorization': 'Bearer ' + sessionStorage.getItem('accessToken')\n\t\t},\n\t\tbody: JSON.stringify(data)\n\t});\n\n\tif (response.ok) {\n\t\treturn response.json(); // parses JSON response into native JavaScript objects\n\t} else if (response.status === 429) {\n\t\tthrow new Error(\"Too many requests. Code: \" + response.status);\n\t} else {\n\t\tthrow new Error(\"Unknown request error. Code: \" + response.status);\n\t}\n}\n\nasync function putRequest(url, params, data) {\n\tif (params) {\n\t\turl = url + \"?\" + new URLSearchParams(params);\n\t}\n\tconst response = await fetch(url, {\n\t\tmethod: 'PUT',\n\t\theaders: {\n\t\t\t'Content-Type': 'image/jpeg',\n\t\t\t'Authorization': 'Bearer ' + sessionStorage.getItem('accessToken')\n\t\t},\n\t\t///body: data\n\t});\n\n\tif (response.ok) {\n\t\treturn response.json(); // parses JSON response into native JavaScript objects\n\t} else if (response.status === 429) {\n\t\tthrow new Error(\"Too many requests. Code: \" + response.status);\n\t} else {\n\t\tthrow new Error(\"Unknown request error. Code: \" + response.status);\n\t}\n}\n\nasync function createPlaylist(name = \"New Playlist\", description = \"\", isPublic = true, isCollaborative = false) {\n\tconst response = await loadSpotifyRequest(\"https://api.spotify.com/v1/me\");\n\tif (!response[\"error\"]) {\n\t\tconst url = \"https://api.spotify.com/v1/users/\" + response.id + \"/playlists\"\n\t\treturn await postRequest(url, {}, {\n\t\t\t\"name\": name,\n\t\t\t\"public\": isPublic,\n\t\t\t\"collaborative\": isCollaborative,\n\t\t\t\"description\": description\n\t\t})\n\t}\n\treturn response;\n}\n\nasync function addTracksToPlaylist(playlistId, trackUris) {\n\tconst url = \"https://api.spotify.com/v1/playlists/\" + playlistId + \"/tracks\"\n\treturn await postRequest(url, {\n\t\t\"uris\": trackUris\n\t})\n}\n\nasync function getUserInfo(userId = undefined) {\n\tlet url = \"https://api.spotify.com/v1/me\";\n\tif (userId) {\n\t\turl = \"https://api.spotify.com/v1/users/\" + userId;\n\t}\n\tconst response = await loadSpotifyRequest(url);\n\tif (response !== 1) {\n\t\tif (response.images.length === 0) {\n\t\t\tresponse.images.push({\n\t\t\t\turl: guestProfileImage,\n\t\t\t});\n\t\t}\n\t\treturn response;\n\t} else {\n\t\treturn 1;\n\t}\n}\n\nasync function isCurrentUser(userId) {\n\tconst currentUser = await getUserInfo();\n\tif (userId === currentUser.id) {\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n}\n\nexport {\n\tloadSpotifyRequest,\n\tpostRequest,\n\tputRequest,\n\taddTracksToPlaylist,\n\tcreatePlaylist,\n\tgetUserInfo,\n\tisCurrentUser\n}","export default __webpack_public_path__ + \"static/guestProfileImage-56ea6ecf196675a29e7b5ffca974fde1.png\";"],"names":["show","hidden","className","LoginButton","loggedIn","noChanges","showDropdown","setShowDropdown","useState","shownUserInfo","setShownUserInfo","display_name","id","images","url","guestProfileImage","useEffect","getUserInfo","then","userInfo","type","onClick","src","alt","xmlns","viewBox","fill","fillRule","d","clipRule","path","navigate","sessionStorage","clear","localStorage","setItem","children","setLoggedIn","checkSpotifyAuth","console","log","timer","setInterval","clearInterval","window","location","redirect_uri","origin","state","generateRandomString","show_dialog","getItem","encodeURIComponent","spotifyLogo","Head","class","Link","to","length","text","possible","i","charAt","Math","floor","random","async","getParamsFromURL","new_url","hashParams","e","r","q","hash","substring","exec","decodeURIComponent","getHashParams","raw_hash","history","replaceState","document","title","expires_at","Date","now","parseInt","expires_in","err","error","message","undefined","mydate","toString","popularitySort","track1","track2","popularity","name","shuffleArray","array","randomIndex","currentIndex","nearestGreaterPowerOf2","num","current","j","nearestLesserPowerOf2","last","bracketSorter","a","b","value1","value2","side","col","index","Error","openBracket","uuid","userId","loadSpotifyRequest","params","URLSearchParams","response","fetch","headers","ok","json","push","isCurrentUser"],"sourceRoot":""}